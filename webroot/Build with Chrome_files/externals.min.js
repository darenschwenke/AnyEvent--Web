(function(a,b,c){a.fn.backstretch=function(f,r){(f===c||0===f.length)&&a.error("No images were supplied for Backstretch");0===a(b).scrollTop()&&b.scrollTo(0,0);return this.each(function(){var b=a(this),c=b.data("backstretch");if(c){if("string"==typeof f&&"function"==typeof c[f]){c[f](r);return}r=a.extend(c.options,r);c.destroy(!0)}c=new e(this,f,r);b.data("backstretch",c)})};a.backstretch=function(f,e){return a("body").backstretch(f,e).data("backstretch")};a.expr[":"].backstretch=function(f){return a(f).data("backstretch")!==
c};a.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5E3,fade:0};var d={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},g={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},e=function(f,e,c){this.options=a.extend({},a.fn.backstretch.defaults,c||{});this.images=a.isArray(e)?e:[e];a.each(this.images,function(){a("<img />")[0].src=this});this.isBody=f===
document.body;this.$container=a(f);this.$root=this.isBody?h?a(b):a(document):this.$container;f=this.$container.children(".backstretch").first();this.$wrap=f.length?f:a('<div class="backstretch"></div>').css(d).appendTo(this.$container);this.isBody||(f=this.$container.css("position"),e=this.$container.css("zIndex"),this.$container.css({position:"static"===f?"relative":f,zIndex:"auto"===e?0:e,background:"none"}),this.$wrap.css({zIndex:-999998}));this.$wrap.css({position:this.isBody&&h?"fixed":"absolute"});
this.index=0;this.show(this.index);a(b).on("resize.backstretch",a.proxy(this.resize,this)).on("orientationchange.backstretch",a.proxy(function(){this.isBody&&0===b.pageYOffset&&(b.scrollTo(0,1),this.resize())},this))};e.prototype={resize:function(){try{var a={left:0,top:0},f=this.isBody?this.$root.width():this.$root.innerWidth(),e=f,c=this.isBody?b.innerHeight?b.innerHeight:this.$root.height():this.$root.innerHeight(),d=e/this.$img.data("ratio"),g;d>=c?(g=(d-c)/2,this.options.centeredY&&(a.top="-"+
g+"px")):(d=c,e=d*this.$img.data("ratio"),g=(e-f)/2,this.options.centeredX&&(a.left="-"+g+"px"));this.$wrap.css({width:f,height:c}).find("img:not(.deleteable)").css({width:e,height:d}).css(a)}catch(h){}return this},show:function(f){if(!(Math.abs(f)>this.images.length-1)){var e=this,b=e.$wrap.find("img").addClass("deleteable"),c={relatedTarget:e.$container[0]};e.$container.trigger(a.Event("backstretch.before",c),[e,f]);this.index=f;clearInterval(e.interval);e.$img=a("<img />").css(g).bind("load",function(d){var g=
this.width||a(d.target).width();d=this.height||a(d.target).height();a(this).data("ratio",g/d);a(this).fadeIn(e.options.speed||e.options.fade,function(){b.remove();e.paused||e.cycle();a(["after","show"]).each(function(){e.$container.trigger(a.Event("backstretch."+this,c),[e,f])})});e.resize()}).appendTo(e.$wrap);e.$img.attr("src",e.images[f]);return e}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-
1:this.index-1)},pause:function(){this.paused=!0;return this},resume:function(){this.paused=!1;this.next();return this},cycle:function(){1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration));return this},destroy:function(f){a(b).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);f||this.$wrap.remove();this.$container.removeData("backstretch")}};var h,l=navigator.userAgent,
k=navigator.platform,n=l.match(/AppleWebKit\/([0-9]+)/),n=!!n&&n[1],p=l.match(/Fennec\/([0-9]+)/),p=!!p&&p[1],q=l.match(/Opera Mobi\/([0-9]+)/),u=!!q&&q[1],f=l.match(/MSIE ([0-9]+)/),f=!!f&&f[1];h=!((-1<k.indexOf("iPhone")||-1<k.indexOf("iPad")||-1<k.indexOf("iPod"))&&n&&534>n||b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini)||q&&7458>u||-1<l.indexOf("Android")&&n&&533>n||p&&6>p||"palmGetResource"in b&&n&&534>n||-1<l.indexOf("MeeGo")&&-1<l.indexOf("NokiaBrowser/8.5.0")||f&&6>=f)})(jQuery,
window);var dat=dat||{};dat.gui=dat.gui||{};dat.utils=dat.utils||{};dat.controllers=dat.controllers||{};dat.dom=dat.dom||{};dat.color=dat.color||{};dat.utils.css=function(){return{load:function(a,b){b=b||document;var c=b.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=a;b.getElementsByTagName("head")[0].appendChild(c)},inject:function(a,b){b=b||document;var c=document.createElement("style");c.type="text/css";c.innerHTML=a;b.getElementsByTagName("head")[0].appendChild(c)}}}();
dat.utils.common=function(){var a=Array.prototype.forEach,b=Array.prototype.slice;return{BREAK:{},extend:function(a){this.each(b.call(arguments,1),function(b){for(var g in b)this.isUndefined(b[g])||(a[g]=b[g])},this);return a},defaults:function(a){this.each(b.call(arguments,1),function(b){for(var g in b)this.isUndefined(a[g])&&(a[g]=b[g])},this);return a},compose:function(){var a=b.call(arguments);return function(){for(var d=b.call(arguments),g=a.length-1;0<=g;g--)d=[a[g].apply(this,d)];return d[0]}},
each:function(b,d,g){if(a&&b.forEach===a)b.forEach(d,g);else if(b.length===b.length+0)for(var e=0,h=b.length;e<h&&!(e in b&&d.call(g,b[e],e)===this.BREAK);e++);else for(e in b)if(d.call(g,b[e],e)===this.BREAK)break},defer:function(a){setTimeout(a,0)},toArray:function(a){return a.toArray?a.toArray():b.call(a)},isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isNaN:function(a){return a!==a},isArray:Array.isArray||function(a){return a.constructor===Array},isObject:function(a){return a===
Object(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+""},isBoolean:function(a){return!1===a||!0===a},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)}}}();
dat.controllers.Controller=function(a){var b=function(a,b){this.initialValue=a[b];this.domElement=document.createElement("div");this.object=a;this.property=b;this.__onFinishChange=this.__onChange=void 0};a.extend(b.prototype,{onChange:function(a){this.__onChange=a;return this},onFinishChange:function(a){this.__onFinishChange=a;return this},setValue:function(a){this.object[this.property]=a;this.__onChange&&this.__onChange.call(this,a);this.updateDisplay();return this},getValue:function(){return this.object[this.property]},
updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}});return b}(dat.utils.common);
dat.dom.dom=function(a){function b(e){if("0"===e||a.isUndefined(e))return 0;e=e.match(d);return a.isNull(e)?0:parseFloat(e[1])}var c={};a.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,b){a.each(e,function(a){c[a]=b})});var d=/(\d+(\.\d+)?)px/,g={makeSelectable:function(a,b){void 0!==a&&void 0!==a.style&&(a.onselectstart=b?function(){return!1}:function(){},a.style.MozUserSelect=b?"auto":"none",a.style.KhtmlUserSelect=
b?"auto":"none",a.unselectable=b?"on":"off")},makeFullscreen:function(e,b,c){a.isUndefined(b)&&(b=!0);a.isUndefined(c)&&(c=!0);e.style.position="absolute";b&&(e.style.left=0,e.style.right=0);c&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,b,d,g){d=d||{};var n=c[b];if(!n)throw Error("Event type "+b+" not supported.");var p=document.createEvent(n);switch(n){case "MouseEvents":p.initMouseEvent(b,d.bubbles||!1,d.cancelable||!0,window,d.clickCount||1,0,0,d.x||d.clientX||0,d.y||d.clientY||0,!1,
!1,!1,!1,0,null);break;case "KeyboardEvents":n=p.initKeyboardEvent||p.initKeyEvent;a.defaults(d,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0});n(b,d.bubbles||!1,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break;default:p.initEvent(b,d.bubbles||!1,d.cancelable||!0)}a.defaults(p,g);e.dispatchEvent(p)},bind:function(a,b,d,c){a.addEventListener?a.addEventListener(b,d,c||!1):a.attachEvent&&a.attachEvent("on"+b,d);return g},
unbind:function(a,b,d,c){a.removeEventListener?a.removeEventListener(b,d,c||!1):a.detachEvent&&a.detachEvent("on"+b,d);return g},addClass:function(a,b){if(void 0===a.className)a.className=b;else if(a.className!==b){var d=a.className.split(/ +/);-1==d.indexOf(b)&&(d.push(b),a.className=d.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return g},removeClass:function(a,b){if(b){if(void 0!==a.className)if(a.className===b)a.removeAttribute("class");else{var d=a.className.split(/ +/),c=d.indexOf(b);-1!=
c&&(d.splice(c,1),a.className=d.join(" "))}}else a.className=void 0;return g},hasClass:function(a,b){return RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)").test(a.className)||!1},getWidth:function(a){a=getComputedStyle(a);return b(a["border-left-width"])+b(a["border-right-width"])+b(a["padding-left"])+b(a["padding-right"])+b(a.width)},getHeight:function(a){a=getComputedStyle(a);return b(a["border-top-width"])+b(a["border-bottom-width"])+b(a["padding-top"])+b(a["padding-bottom"])+b(a.height)},getOffset:function(a){var b=
{left:0,top:0};if(a.offsetParent){do b.left+=a.offsetLeft,b.top+=a.offsetTop;while(a=a.offsetParent)}return b},isActive:function(a){return a===document.activeElement&&(a.type||a.href)}};return g}(dat.utils.common);
dat.controllers.OptionController=function(a,b,c){var d=function(a,e,h){d.superclass.call(this,a,e);var l=this;this.__select=document.createElement("select");if(c.isArray(h)){var k={};c.each(h,function(a){k[a]=a});h=k}c.each(h,function(a,b){var e=document.createElement("option");e.innerHTML=b;e.setAttribute("value",a);l.__select.appendChild(e)});this.updateDisplay();b.bind(this.__select,"change",function(){l.setValue(this.options[this.selectedIndex].value)});this.domElement.appendChild(this.__select)};
d.superclass=a;c.extend(d.prototype,a.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue());return a},updateDisplay:function(){this.__select.value=this.getValue();return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.controllers.NumberController=function(a,b){var c=function(a,g,e){c.superclass.call(this,a,g);e=e||{};this.__min=e.min;this.__max=e.max;this.__step=e.step;b.isUndefined(this.__step)?this.__impliedStep=0==this.initialValue?1:Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step;a=this.__impliedStep;a=a.toString();this.__precision=a=-1<a.indexOf(".")?a.length-a.indexOf(".")-1:0};c.superclass=a;b.extend(c.prototype,a.prototype,{setValue:function(a){void 0!==
this.__min&&a<this.__min?a=this.__min:void 0!==this.__max&&a>this.__max&&(a=this.__max);void 0!==this.__step&&0!=a%this.__step&&(a=Math.round(a/this.__step)*this.__step);return c.superclass.prototype.setValue.call(this,a)},min:function(a){this.__min=a;return this},max:function(a){this.__max=a;return this},step:function(a){this.__step=a;return this}});return c}(dat.controllers.Controller,dat.utils.common);
dat.controllers.NumberControllerBox=function(a,b,c){var d=function(a,e,h){function l(){var a=parseFloat(p.__input.value);c.isNaN(a)||p.setValue(a)}function k(a){var f=q-a.clientY;p.setValue(p.getValue()+f*p.__impliedStep);q=a.clientY}function n(){b.unbind(window,"mousemove",k);b.unbind(window,"mouseup",n)}this.__truncationSuspended=!1;d.superclass.call(this,a,e,h);var p=this,q;this.__input=document.createElement("input");this.__input.setAttribute("type","text");b.bind(this.__input,"change",l);b.bind(this.__input,
"blur",function(){l();p.__onFinishChange&&p.__onFinishChange.call(p,p.getValue())});b.bind(this.__input,"mousedown",function(a){b.bind(window,"mousemove",k);b.bind(window,"mouseup",n);q=a.clientY});b.bind(this.__input,"keydown",function(a){13===a.keyCode&&(p.__truncationSuspended=!0,this.blur(),p.__truncationSuspended=!1)});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=a;c.extend(d.prototype,a.prototype,{updateDisplay:function(){var a=this.__input,b;if(this.__truncationSuspended)b=
this.getValue();else{b=this.getValue();var c=Math.pow(10,this.__precision);b=Math.round(b*c)/c}a.value=b;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.NumberController,dat.dom.dom,dat.utils.common);
dat.controllers.NumberControllerSlider=function(a,b,c,d,g){var e=function(a,c,d,g,p){function q(a){a.preventDefault();var e=b.getOffset(f.__background),c=b.getWidth(f.__background);f.setValue(f.__min+(a.clientX-e.left)/(e.left+c-e.left)*(f.__max-f.__min));return!1}function u(){b.unbind(window,"mousemove",q);b.unbind(window,"mouseup",u);f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}e.superclass.call(this,a,c,{min:d,max:g,step:p});var f=this;this.__background=document.createElement("div");
this.__foreground=document.createElement("div");b.bind(this.__background,"mousedown",function(a){b.bind(window,"mousemove",q);b.bind(window,"mouseup",u);q(a)});b.addClass(this.__background,"slider");b.addClass(this.__foreground,"slider-fg");this.updateDisplay();this.__background.appendChild(this.__foreground);this.domElement.appendChild(this.__background)};e.superclass=a;e.useDefaultStyles=function(){c.inject(g)};d.extend(e.prototype,a.prototype,{updateDisplay:function(){var a=(this.getValue()-this.__min)/
(this.__max-this.__min);this.__foreground.style.width=100*a+"%";return e.superclass.prototype.updateDisplay.call(this)}});return e}(dat.controllers.NumberController,dat.dom.dom,dat.utils.css,dat.utils.common,"/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n.slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}");
dat.controllers.FunctionController=function(a,b,c){var d=function(a,e,c){d.superclass.call(this,a,e);var l=this;this.__button=document.createElement("div");this.__button.innerHTML=void 0===c?"Fire":c;b.bind(this.__button,"click",function(a){a.preventDefault();l.fire();return!1});b.addClass(this.__button,"button");this.domElement.appendChild(this.__button)};d.superclass=a;c.extend(d.prototype,a.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this);this.__onFinishChange&&this.__onFinishChange.call(this,
this.getValue());this.getValue().call(this.object)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.controllers.BooleanController=function(a,b,c){var d=function(a,e){d.superclass.call(this,a,e);var c=this;this.__prev=this.getValue();this.__checkbox=document.createElement("input");this.__checkbox.setAttribute("type","checkbox");b.bind(this.__checkbox,"change",function(){c.setValue(!c.__prev)},!1);this.domElement.appendChild(this.__checkbox);this.updateDisplay()};d.superclass=a;c.extend(d.prototype,a.prototype,{setValue:function(a){a=d.superclass.prototype.setValue.call(this,a);this.__onFinishChange&&
this.__onFinishChange.call(this,this.getValue());this.__prev=this.getValue();return a},updateDisplay:function(){!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1;return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common);
dat.color.toString=function(a){return function(b){if(1==b.a||a.isUndefined(b.a)){for(b=b.hex.toString(16);6>b.length;)b="0"+b;return"#"+b}return"rgba("+Math.round(b.r)+","+Math.round(b.g)+","+Math.round(b.b)+","+b.a+")"}}(dat.utils.common);
dat.color.interpret=function(a,b){var c,d,g=[{litmus:b.isString,conversions:{THREE_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null===a?!1:{space:"HEX",hex:parseInt("0x"+a[1].toString()+a[1].toString()+a[2].toString()+a[2].toString()+a[3].toString()+a[3].toString())}},write:a},SIX_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9]{6})$/i);return null===a?!1:{space:"HEX",hex:parseInt("0x"+a[1].toString())}},write:a},CSS_RGB:{read:function(a){a=a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
return null===a?!1:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3])}},write:a},CSS_RGBA:{read:function(a){a=a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null===a?!1:{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3]),a:parseFloat(a[4])}},write:a}}},{litmus:b.isNumber,conversions:{HEX:{read:function(a){return{space:"HEX",hex:a,conversionName:"HEX"}},write:function(a){return a.hex}}}},{litmus:b.isArray,conversions:{RGB_ARRAY:{read:function(a){return 3!=
a.length?!1:{space:"RGB",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return 4!=a.length?!1:{space:"RGB",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:b.isObject,conversions:{RGBA_OBJ:{read:function(a){return b.isNumber(a.r)&&b.isNumber(a.g)&&b.isNumber(a.b)&&b.isNumber(a.a)?{space:"RGB",r:a.r,g:a.g,b:a.b,a:a.a}:!1},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(a){return b.isNumber(a.r)&&
b.isNumber(a.g)&&b.isNumber(a.b)?{space:"RGB",r:a.r,g:a.g,b:a.b}:!1},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(a){return b.isNumber(a.h)&&b.isNumber(a.s)&&b.isNumber(a.v)&&b.isNumber(a.a)?{space:"HSV",h:a.h,s:a.s,v:a.v,a:a.a}:!1},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(a){return b.isNumber(a.h)&&b.isNumber(a.s)&&b.isNumber(a.v)?{space:"HSV",h:a.h,s:a.s,v:a.v}:!1},write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}];return function(){d=!1;
var a=1<arguments.length?b.toArray(arguments):arguments[0];b.each(g,function(g){if(g.litmus(a))return b.each(g.conversions,function(g,h){c=g.read(a);if(!1===d&&!1!==c)return d=c,c.conversionName=h,c.conversion=g,b.BREAK}),b.BREAK});return d}}(dat.color.toString,dat.utils.common);
dat.GUI=dat.gui.GUI=function(a,b,c,d,g,e,h,l,k,n,p,q,u,f,m){function r(a,b,c,m){if(void 0===b[c])throw Error("Object "+b+' has no property "'+c+'"');m.color?b=new p(b,c):(b=[b,c].concat(m.factoryArgs),b=d.apply(a,b));m.before instanceof g&&(m.before=m.before.__li);C(a,b);f.addClass(b.domElement,"c");c=document.createElement("span");f.addClass(c,"property-name");c.innerHTML=b.property;var r=document.createElement("div");r.appendChild(c);r.appendChild(b.domElement);m=w(a,r,m.before);f.addClass(m,t.CLASS_CONTROLLER_ROW);
f.addClass(m,typeof b.getValue());v(a,m,b);a.__controllers.push(b);return b}function w(a,f,b){var c=document.createElement("li");f&&c.appendChild(f);b?a.__ul.insertBefore(c,params.before):a.__ul.appendChild(c);a.onResize();return c}function v(a,b,c){c.__li=b;c.__gui=a;m.extend(c,{options:function(f){if(1<arguments.length)return c.remove(),r(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[m.toArray(arguments)]});if(m.isArray(f)||m.isObject(f))return c.remove(),r(a,c.object,c.property,
{before:c.__li.nextElementSibling,factoryArgs:[f]})},name:function(a){c.__li.firstElementChild.firstElementChild.innerHTML=a;return c},listen:function(){c.__gui.listen(c);return c},remove:function(){c.__gui.remove(c);return c}});if(c instanceof k){var d=new l(c.object,c.property,{min:c.__min,max:c.__max,step:c.__step});m.each(["updateDisplay","onChange","onFinishChange"],function(a){var f=c[a],b=d[a];c[a]=d[a]=function(){var a=Array.prototype.slice.call(arguments);f.apply(c,a);return b.apply(d,a)}});
f.addClass(b,"has-slider");c.domElement.insertBefore(d.domElement,c.domElement.firstElementChild)}else if(c instanceof l){var g=function(f){return m.isNumber(c.__min)&&m.isNumber(c.__max)?(c.remove(),r(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[c.__min,c.__max,c.__step]})):f};c.min=m.compose(g,c.min);c.max=m.compose(g,c.max)}else c instanceof e?(f.bind(b,"click",function(){f.fakeEvent(c.__checkbox,"click")}),f.bind(c.__checkbox,"click",function(a){a.stopPropagation()})):
c instanceof h?(f.bind(b,"click",function(){f.fakeEvent(c.__button,"click")}),f.bind(b,"mouseover",function(){f.addClass(c.__button,"hover")}),f.bind(b,"mouseout",function(){f.removeClass(c.__button,"hover")})):c instanceof p&&(f.addClass(b,"color"),c.updateDisplay=m.compose(function(a){b.style.borderLeftColor=c.__color.toString();return a},c.updateDisplay),c.updateDisplay());c.setValue=m.compose(function(f){a.getRoot().__preset_select&&c.isModified()&&G(a.getRoot(),!0);return f},c.setValue)}function C(a,
f){var b=a.getRoot(),c=b.__rememberedObjects.indexOf(f.object);if(-1!=c){var d=b.__rememberedObjectIndecesToControllers[c];void 0===d&&(d={},b.__rememberedObjectIndecesToControllers[c]=d);d[f.property]=f;if(b.load&&b.load.remembered){b=b.load.remembered;if(b[a.preset])b=b[a.preset];else if(b[y])b=b[y];else return;b[c]&&void 0!==b[c][f.property]&&(c=b[c][f.property],f.initialValue=c,f.setValue(c))}}}function z(a){var b=a.__save_row=document.createElement("li");f.addClass(a.domElement,"has-save");a.__ul.insertBefore(b,
a.__ul.firstChild);f.addClass(b,"save-row");var c=document.createElement("span");c.innerHTML="&nbsp;";f.addClass(c,"button gears");var d=document.createElement("span");d.innerHTML="Save";f.addClass(d,"button");f.addClass(d,"save");var r=document.createElement("span");r.innerHTML="New";f.addClass(r,"button");f.addClass(r,"save-as");var e=document.createElement("span");e.innerHTML="Revert";f.addClass(e,"button");f.addClass(e,"revert");var g=a.__preset_select=document.createElement("select");a.load&&
a.load.remembered?m.each(a.load.remembered,function(b,f){B(a,f,f==a.preset)}):B(a,y,!1);f.bind(g,"change",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value});b.appendChild(g);b.appendChild(c);b.appendChild(d);b.appendChild(r);b.appendChild(e);if(x){var b=document.getElementById("dg-save-locally"),n=document.getElementById("dg-local-explain");b.style.display="block";b=document.getElementById("dg-local-storage");"true"===
localStorage.getItem(document.location.href+".isLocal")&&b.setAttribute("checked","checked");var h=function(){n.style.display=a.useLocalStorage?"block":"none"};h();f.bind(b,"change",function(){a.useLocalStorage=!a.useLocalStorage;h()})}var w=document.getElementById("dg-new-constructor");f.bind(w,"keydown",function(a){!a.metaKey||67!==a.which&&67!=a.keyCode||D.hide()});f.bind(c,"click",function(){w.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);D.show();w.focus();w.select()});f.bind(d,"click",
function(){a.save()});f.bind(r,"click",function(){var b=prompt("Enter a new preset name.");b&&a.saveAs(b)});f.bind(e,"click",function(){a.revert()})}function A(a){function b(m){m.preventDefault();r=m.clientX;f.addClass(a.__closeButton,t.CLASS_DRAG);f.bind(window,"mousemove",c);f.bind(window,"mouseup",d);return!1}function c(b){b.preventDefault();a.width+=r-b.clientX;a.onResize();r=b.clientX;return!1}function d(){f.removeClass(a.__closeButton,t.CLASS_DRAG);f.unbind(window,"mousemove",c);f.unbind(window,
"mouseup",d)}a.__resize_handle=document.createElement("div");m.extend(a.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var r;f.bind(a.__resize_handle,"mousedown",b);f.bind(a.__closeButton,"mousedown",b);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function E(a,b){a.domElement.style.width=b+"px";a.__save_row&&a.autoPlace&&(a.__save_row.style.width=b+"px");a.__closeButton&&(a.__closeButton.style.width=b+"px")}
function F(a,b){var f={};m.each(a.__rememberedObjects,function(c,d){var r={};m.each(a.__rememberedObjectIndecesToControllers[d],function(a,f){r[f]=b?a.initialValue:a.getValue()});f[d]=r});return f}function B(a,b,f){var c=document.createElement("option");c.innerHTML=b;c.value=b;a.__preset_select.appendChild(c);f&&(a.__preset_select.selectedIndex=a.__preset_select.length-1)}function G(a,b){var f=a.__preset_select[a.__preset_select.selectedIndex];f.innerHTML=b?f.value+"*":f.value}function I(a){0!=a.length&&
q(function(){I(a)});m.each(a,function(a){a.updateDisplay()})}a.inject(c);var y="Default",x;try{x="localStorage"in window&&null!==window.localStorage}catch(J){x=!1}var D,s=!0,H,K=!1,L=[],t=function(a){function b(){localStorage.setItem(document.location.href+".gui",JSON.stringify(d.getSaveObject()))}function c(){var a=d.getRoot();a.width+=1;m.defer(function(){a.width-=1})}var d=this;this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);
f.addClass(this.domElement,"dg");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];a=a||{};a=m.defaults(a,{autoPlace:!0,width:t.DEFAULT_WIDTH});a=m.defaults(a,{resizable:a.autoPlace,hideable:a.autoPlace});m.isUndefined(a.load)?a.load={preset:y}:a.preset&&(a.load.preset=a.preset);m.isUndefined(a.parent)&&a.hideable&&L.push(this);a.resizable=m.isUndefined(a.parent)&&a.resizable;a.autoPlace&&m.isUndefined(a.scrollable)&&
(a.scrollable=!0);var r=x&&"true"===localStorage.getItem(document.location.href+".isLocal");Object.defineProperties(this,{parent:{get:function(){return a.parent}},scrollable:{get:function(){return a.scrollable}},autoPlace:{get:function(){return a.autoPlace}},preset:{get:function(){return d.parent?d.getRoot().preset:a.load.preset},set:function(b){d.parent?d.getRoot().preset=b:a.load.preset=b;for(b=0;b<this.__preset_select.length;b++)this.__preset_select[b].value==this.preset&&(this.__preset_select.selectedIndex=
b);d.revert()}},width:{get:function(){return a.width},set:function(b){a.width=b;E(d,b)}},name:{get:function(){return a.name},set:function(b){a.name=b;g&&(g.innerHTML=a.name)}},closed:{get:function(){return a.closed},set:function(b){a.closed=b;a.closed?f.addClass(d.__ul,t.CLASS_CLOSED):f.removeClass(d.__ul,t.CLASS_CLOSED);this.onResize();d.__closeButton&&(d.__closeButton.innerHTML=b?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return a.load}},useLocalStorage:{get:function(){return r},set:function(a){x&&
((r=a)?f.bind(window,"unload",b):f.unbind(window,"unload",b),localStorage.setItem(document.location.href+".isLocal",a))}}});if(m.isUndefined(a.parent)){a.closed=!1;f.addClass(this.domElement,t.CLASS_MAIN);f.makeSelectable(this.domElement,!1);if(x&&r){d.useLocalStorage=!0;var e=localStorage.getItem(document.location.href+".gui");e&&(a.load=JSON.parse(e))}this.__closeButton=document.createElement("div");this.__closeButton.innerHTML=t.TEXT_CLOSED;f.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON);this.domElement.appendChild(this.__closeButton);
f.bind(this.__closeButton,"click",function(){d.closed=!d.closed})}else{void 0===a.closed&&(a.closed=!0);var g=document.createTextNode(a.name);f.addClass(g,"controller-name");e=w(d,g);f.addClass(this.__ul,t.CLASS_CLOSED);f.addClass(e,"title");f.bind(e,"click",function(a){a.preventDefault();d.closed=!d.closed;return!1});a.closed||(this.closed=!1)}a.autoPlace&&(m.isUndefined(a.parent)&&(s&&(H=document.createElement("div"),f.addClass(H,"dg"),f.addClass(H,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(H),
s=!1),H.appendChild(this.domElement),f.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||E(d,a.width));f.bind(window,"resize",function(){d.onResize()});f.bind(this.__ul,"webkitTransitionEnd",function(){d.onResize()});f.bind(this.__ul,"transitionend",function(){d.onResize()});f.bind(this.__ul,"oTransitionEnd",function(){d.onResize()});this.onResize();a.resizable&&A(this);d.getRoot();a.parent||c()};t.toggleHide=function(){K=!K;m.each(L,function(a){a.domElement.style.zIndex=K?-999:999;a.domElement.style.opacity=
K?0:1})};t.CLASS_AUTO_PLACE="a";t.CLASS_AUTO_PLACE_CONTAINER="ac";t.CLASS_MAIN="main";t.CLASS_CONTROLLER_ROW="cr";t.CLASS_TOO_TALL="taller-than-window";t.CLASS_CLOSED="closed";t.CLASS_CLOSE_BUTTON="close-button";t.CLASS_DRAG="drag";t.DEFAULT_WIDTH=245;t.TEXT_CLOSED="Close Controls";t.TEXT_OPEN="Open Controls";f.bind(window,"keydown",function(a){"text"===document.activeElement.type||72!==a.which&&72!=a.keyCode||t.toggleHide()},!1);m.extend(t.prototype,{add:function(a,b){return r(this,a,b,{factoryArgs:Array.prototype.slice.call(arguments,
2)})},addColor:function(a,b){return r(this,a,b,{color:!0})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.slice(this.__controllers.indexOf(a),1);var b=this;m.defer(function(){b.onResize()})},destroy:function(){this.autoPlace&&H.removeChild(this.domElement)},addFolder:function(a){if(void 0!==this.__folders[a])throw Error('You already have a folder in this GUI by the name "'+a+'"');var b={name:a,parent:this};b.autoPlace=this.autoPlace;this.load&&this.load.folders&&this.load.folders[a]&&
(b.closed=this.load.folders[a].closed,b.load=this.load.folders[a]);b=new t(b);this.__folders[a]=b;a=w(this,b.domElement);f.addClass(a,"folder");return b},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=f.getOffset(a.__ul).top,c=0;m.each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=f.getHeight(b))});window.innerHeight-b-20<c?(f.addClass(a.domElement,t.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-
b-20+"px"):(f.removeClass(a.domElement,t.CLASS_TOO_TALL),a.__ul.style.height="auto")}a.__resize_handle&&m.defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+"px"});a.__closeButton&&(a.__closeButton.style.width=a.width+"px")},remember:function(){m.isUndefined(D)&&(D=new u,D.domElement.innerHTML=b);if(this.parent)throw Error("You can only call remember on a top level GUI.");var a=this;m.each(Array.prototype.slice.call(arguments),function(b){0==a.__rememberedObjects.length&&z(a);-1==
a.__rememberedObjects.indexOf(b)&&a.__rememberedObjects.push(b)});this.autoPlace&&E(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;a.closed=this.closed;0<this.__rememberedObjects.length&&(a.preset=this.preset,a.remembered||(a.remembered={}),a.remembered[this.preset]=F(this));a.folders={};m.each(this.__folders,function(b,f){a.folders[f]=b.getSaveObject()});return a},save:function(){this.load.remembered||(this.load.remembered=
{});this.load.remembered[this.preset]=F(this);G(this,!1)},saveAs:function(a){this.load.remembered||(this.load.remembered={},this.load.remembered[y]=F(this,!0));this.load.remembered[a]=F(this);this.preset=a;B(this,a,!0)},revert:function(a){m.each(this.__controllers,function(b){this.getRoot().load.remembered?C(a||this.getRoot(),b):b.setValue(b.initialValue)},this);m.each(this.__folders,function(a){a.revert(a)});a||G(this.getRoot(),!1)},listen:function(a){var b=0==this.__listening.length;this.__listening.push(a);
b&&I(this.__listening)}});return t}(dat.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',
".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid rgba(0, 0, 0, 0); }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2fa1d6; }\n    .dg .cr.number input[type=text] {\n      color: #2fa1d6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2fa1d6; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",
dat.controllers.factory=function(a,b,c,d,g,e,h){return function(l,k,n,p){var q=l[k];if(h.isArray(n)||h.isObject(n))return new a(l,k,n);if(h.isNumber(q))return h.isNumber(n)&&h.isNumber(p)?new c(l,k,n,p):new b(l,k,{min:n,max:p});if(h.isString(q))return new d(l,k);if(h.isFunction(q))return new g(l,k,"");if(h.isBoolean(q))return new e(l,k)}}(dat.controllers.OptionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.StringController=function(a,b,c){var d=
function(a,c){function h(){l.setValue(l.__input.value)}d.superclass.call(this,a,c);var l=this;this.__input=document.createElement("input");this.__input.setAttribute("type","text");b.bind(this.__input,"keyup",h);b.bind(this.__input,"change",h);b.bind(this.__input,"blur",function(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())});b.bind(this.__input,"keydown",function(a){13===a.keyCode&&this.blur()});this.updateDisplay();this.domElement.appendChild(this.__input)};d.superclass=a;c.extend(d.prototype,
a.prototype,{updateDisplay:function(){b.isActive(this.__input)||(this.__input.value=this.getValue());return d.superclass.prototype.updateDisplay.call(this)}});return d}(dat.controllers.Controller,dat.dom.dom,dat.utils.common),dat.controllers.FunctionController,dat.controllers.BooleanController,dat.utils.common),dat.controllers.Controller,dat.controllers.BooleanController,dat.controllers.FunctionController,dat.controllers.NumberControllerBox,dat.controllers.NumberControllerSlider,dat.controllers.OptionController,
dat.controllers.ColorController=function(a,b,c,d,g){function e(a,b,c,d){a.style.background="";g.each(k,function(f){a.style.cssText+="background: "+f+"linear-gradient("+b+", "+c+" 0%, "+d+" 100%); "})}function h(a){a.style.background="";a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var l=function(a,k){function q(a){r(a);b.bind(window,"mousemove",r);b.bind(window,
"mouseup",u)}function u(){b.unbind(window,"mousemove",r);b.unbind(window,"mouseup",u)}function f(){var a=d(this.value);!1!==a?(v.__color.__state=a,v.setValue(v.__color.toOriginal())):this.value=v.__color.toString()}function m(){b.unbind(window,"mousemove",w);b.unbind(window,"mouseup",m)}function r(a){a.preventDefault();var f=b.getWidth(v.__saturation_field),c=b.getOffset(v.__saturation_field),d=(a.clientX-c.left+document.body.scrollLeft)/f;a=1-(a.clientY-c.top+document.body.scrollTop)/f;1<a?a=1:0>
a&&(a=0);1<d?d=1:0>d&&(d=0);v.__color.v=a;v.__color.s=d;v.setValue(v.__color.toOriginal());return!1}function w(a){a.preventDefault();var f=b.getHeight(v.__hue_field),c=b.getOffset(v.__hue_field);a=1-(a.clientY-c.top+document.body.scrollTop)/f;1<a?a=1:0>a&&(a=0);v.__color.h=360*a;v.setValue(v.__color.toOriginal());return!1}l.superclass.call(this,a,k);this.__color=new c(this.getValue());this.__temp=new c(0);var v=this;this.domElement=document.createElement("div");b.makeSelectable(this.domElement,!1);
this.__selector=document.createElement("div");this.__selector.className="selector";this.__saturation_field=document.createElement("div");this.__saturation_field.className="saturation-field";this.__field_knob=document.createElement("div");this.__field_knob.className="field-knob";this.__field_knob_border="2px solid ";this.__hue_knob=document.createElement("div");this.__hue_knob.className="hue-knob";this.__hue_field=document.createElement("div");this.__hue_field.className="hue-field";this.__input=document.createElement("input");
this.__input.type="text";this.__input_textShadow="0 1px 1px ";b.bind(this.__input,"keydown",function(a){13===a.keyCode&&f.call(this)});b.bind(this.__input,"blur",f);b.bind(this.__selector,"mousedown",function(a){b.addClass(this,"drag").bind(window,"mouseup",function(a){b.removeClass(v.__selector,"drag")})});var C=document.createElement("div");g.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"});g.extend(this.__field_knob.style,
{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(0.5>this.__color.v?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1});g.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1});g.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"});g.extend(C.style,{width:"100%",height:"100%",
background:"none"});e(C,"top","rgba(0,0,0,0)","#000");g.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"});h(this.__hue_field);g.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"});b.bind(this.__saturation_field,"mousedown",q);b.bind(this.__field_knob,"mousedown",q);b.bind(this.__hue_field,"mousedown",function(a){w(a);b.bind(window,
"mousemove",w);b.bind(window,"mouseup",m)});this.__saturation_field.appendChild(C);this.__selector.appendChild(this.__field_knob);this.__selector.appendChild(this.__saturation_field);this.__selector.appendChild(this.__hue_field);this.__hue_field.appendChild(this.__hue_knob);this.domElement.appendChild(this.__input);this.domElement.appendChild(this.__selector);this.updateDisplay()};l.superclass=a;g.extend(l.prototype,a.prototype,{updateDisplay:function(){var a=d(this.getValue());if(!1!==a){var b=!1;
g.each(c.COMPONENTS,function(f){if(!g.isUndefined(a[f])&&!g.isUndefined(this.__color.__state[f])&&a[f]!==this.__color.__state[f])return b=!0,{}},this);b&&g.extend(this.__color.__state,a)}g.extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var h=0.5>this.__color.v||0.5<this.__color.s?255:0,l=255-h;g.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+
h+","+h+","+h+")"});this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px";this.__temp.s=1;this.__temp.v=1;e(this.__saturation_field,"left","#fff",this.__temp.toString());g.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+h+","+h+","+h+")",textShadow:this.__input_textShadow+"rgba("+l+","+l+","+l+",.7)"})}});var k=["-moz-","-o-","-webkit-","-ms-",""];return l}(dat.controllers.Controller,dat.dom.dom,dat.color.Color=function(a,b,c,d){function g(a,
b,c){Object.defineProperty(a,b,{get:function(){if("RGB"===this.__state.space)return this.__state[b];h(this,b,c);return this.__state[b]},set:function(a){"RGB"!==this.__state.space&&(h(this,b,c),this.__state.space="RGB");this.__state[b]=a}})}function e(a,b){Object.defineProperty(a,b,{get:function(){if("HSV"===this.__state.space)return this.__state[b];l(this);return this.__state[b]},set:function(a){"HSV"!==this.__state.space&&(l(this),this.__state.space="HSV");this.__state[b]=a}})}function h(a,c,e){if("HEX"===
a.__state.space)a.__state[c]=b.component_from_hex(a.__state.hex,e);else if("HSV"===a.__state.space)d.extend(a.__state,b.hsv_to_rgb(a.__state.h,a.__state.s,a.__state.v));else throw"Corrupted color state";}function l(a){var c=b.rgb_to_hsv(a.r,a.g,a.b);d.extend(a.__state,{s:c.s,v:c.v});d.isNaN(c.h)?d.isUndefined(a.__state.h)&&(a.__state.h=0):a.__state.h=c.h}var k=function(){this.__state=a.apply(this,arguments);if(!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||
1};k.COMPONENTS="r g b h s v hex a".split(" ");d.extend(k.prototype,{toString:function(){return c(this)},toOriginal:function(){return this.__state.conversion.write(this)}});g(k.prototype,"r",2);g(k.prototype,"g",1);g(k.prototype,"b",0);e(k.prototype,"h");e(k.prototype,"s");e(k.prototype,"v");Object.defineProperty(k.prototype,"a",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}});Object.defineProperty(k.prototype,"hex",{get:function(){"HEX"!==!this.__state.space&&(this.__state.hex=
b.rgb_to_hex(this.r,this.g,this.b));return this.__state.hex},set:function(a){this.__state.space="HEX";this.__state.hex=a}});return k}(dat.color.interpret,dat.color.math=function(){var a;return{hsv_to_rgb:function(a,c,d){var g=a/60-Math.floor(a/60),e=d*(1-c),h=d*(1-g*c);c=d*(1-(1-g)*c);a=[[d,c,e],[h,d,e],[e,d,c],[e,h,d],[c,e,d],[d,e,h]][Math.floor(a/60)%6];return{r:255*a[0],g:255*a[1],b:255*a[2]}},rgb_to_hsv:function(a,c,d){var g=Math.min(a,c,d),e=Math.max(a,c,d),g=e-g;if(0==e)return{h:NaN,s:0,v:0};
a=(a==e?(c-d)/g:c==e?2+(d-a)/g:4+(a-c)/g)/6;0>a&&(a+=1);return{h:360*a,s:g/e,v:e/255}},rgb_to_hex:function(a,c,d){a=this.hex_with_component(0,2,a);a=this.hex_with_component(a,1,c);return this.hex_with_component(a,0,d)},component_from_hex:function(a,c){return a>>8*c&255},hex_with_component:function(b,c,d){return d<<(a=8*c)|b&~(255<<a)}}}(),dat.color.toString,dat.utils.common),dat.color.interpret,dat.utils.common),dat.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1E3/60)}}(),dat.dom.CenteredDiv=function(a,b){var c=function(){this.backgroundElement=document.createElement("div");b.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"});a.makeFullscreen(this.backgroundElement);this.backgroundElement.style.position="fixed";this.domElement=
document.createElement("div");b.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var c=this;a.bind(this.backgroundElement,"click",function(){c.hide()})};c.prototype.show=function(){var a=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=
0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();b.defer(function(){a.backgroundElement.style.opacity=1;a.domElement.style.opacity=1;a.domElement.style.webkitTransform="scale(1)"})};c.prototype.hide=function(){var b=this,c=function(){b.domElement.style.display="none";b.backgroundElement.style.display="none";a.unbind(b.domElement,"webkitTransitionEnd",c);a.unbind(b.domElement,"transitionend",c);a.unbind(b.domElement,"oTransitionEnd",c)};a.bind(this.domElement,"webkitTransitionEnd",
c);a.bind(this.domElement,"transitionend",c);a.bind(this.domElement,"oTransitionEnd",c);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"};c.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-a.getWidth(this.domElement)/2+"px";this.domElement.style.top=window.innerHeight/2-a.getHeight(this.domElement)/2+"px"};return c}(dat.dom.dom,dat.utils.common),dat.dom.dom,dat.utils.common);Detector={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(a){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var a=document.createElement("div");a.style.fontFamily="monospace";a.style.fontSize="13px";a.style.textAlign="center";a.style.background="#eee";a.style.color="#000";a.style.padding=
"1em";a.style.width="475px";a.style.margin="5em auto 0";this.webgl||(a.innerHTML=window.WebGLRenderingContext?'Sorry, your graphics card doesn\'t support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation">WebGL</a>':'Sorry, your browser doesn\'t support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation">WebGL</a><br/>\nPlease try with\n<a href="http://www.google.com/chrome">Chrome</a>, \n<a href="http://www.mozilla.com/en-US/firefox/new/">Firefox 4</a> or\n<a href="http://nightly.webkit.org/">Webkit Nightly (Mac)</a>');
return a},addGetWebGLMessage:function(a){var b,c;a=a||{};b=void 0!==a.parent?a.parent:document.body;a=void 0!==a.id?a.id:"oldie";c=Detector.getWebGLErrorMessage();c.id=a;b.appendChild(c)}};var Cursor={x:0,y:0,init:function(){this.setEvent("mouse");this.setEvent("touch")},setEvent:function(a){var b=document["on"+a+"move"]||function(){};document["on"+a+"move"]=function(a){b(a);Cursor.refresh(a)}},refresh:function(a){a||(a=window.event);"mousemove"==a.type?this.set(a):a.touches&&this.set(a.touches[0])},set:function(a){if(a.pageX||a.pageY)this.x=a.pageX,this.y=a.pageY;else if(a.clientX||a.clientY)this.x=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.y=a.clientY+
document.body.scrollTop+document.documentElement.scrollTop}};Cursor.init();var Position={get:function(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent)}return[b,curtop]}},Dragdealer=function(a,b){"string"==typeof a&&(a=document.getElementById(a));if(a){var c=a.getElementsByTagName("div")[0];c&&-1!=c.className.search(/(^|\s)handle(\s|$)/)&&(this.init(a,c,b||{}),this.setup())}};
Dragdealer.prototype={init:function(a,b,c){this.wrapper=a;this.handle=b;this.options=c;this.disabled=this.getOption("disabled",!1);this.horizontal=this.getOption("horizontal",!0);this.vertical=this.getOption("vertical",!1);this.slide=this.getOption("slide",!0);this.steps=this.getOption("steps",0);this.snap=this.getOption("snap",!1);this.loose=this.getOption("loose",!1);this.speed=this.getOption("speed",10)/100;this.xPrecision=this.getOption("xPrecision",0);this.yPrecision=this.getOption("yPrecision",
0);this.callback=c.callback||null;this.animationCallback=c.animationCallback||null;this.bounds={left:c.left||0,right:-(c.right||0),top:c.top||0,bottom:-(c.bottom||0),x0:0,x1:0,xRange:0,y0:0,y1:0,yRange:0};this.value={prev:[-1,-1],current:[c.x||0,c.y||0],target:[c.x||0,c.y||0]};this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]};this.change=[0,0];this.tapping=this.dragging=this.activity=!1},getOption:function(a,b){return void 0!==this.options[a]?this.options[a]:
b},setup:function(){this.setWrapperOffset();this.setBoundsPadding();this.setBounds();this.setSteps();this.addListeners()},setWrapperOffset:function(){this.offset.wrapper=Position.get(this.wrapper)},setBoundsPadding:function(){!this.bounds.left&&!this.bounds.right&&(this.bounds.left=Position.get(this.handle)[0]-this.offset.wrapper[0],this.bounds.right=-this.bounds.left);!this.bounds.top&&!this.bounds.bottom&&(this.bounds.top=Position.get(this.handle)[1]-this.offset.wrapper[1],this.bounds.bottom=-this.bounds.top)},
setBounds:function(){this.bounds.x0=this.bounds.left;this.bounds.x1=this.wrapper.offsetWidth+this.bounds.right;this.bounds.xRange=this.bounds.x1-this.bounds.x0-this.handle.offsetWidth;this.bounds.y0=this.bounds.top;this.bounds.y1=this.wrapper.offsetHeight+this.bounds.bottom;this.bounds.yRange=this.bounds.y1-this.bounds.y0-this.handle.offsetHeight;this.bounds.xStep=1/(this.xPrecision||Math.max(this.wrapper.offsetWidth,this.handle.offsetWidth));this.bounds.yStep=1/(this.yPrecision||Math.max(this.wrapper.offsetHeight,
this.handle.offsetHeight))},setSteps:function(){if(1<this.steps){this.stepRatios=[];for(var a=0;a<=this.steps-1;a++)this.stepRatios[a]=a/(this.steps-1)}},addListeners:function(){var a=this;this.wrapper.onselectstart=function(){return!1};this.handle.onmousedown=this.handle.ontouchstart=function(b){a.handleDownHandler(b)};this.wrapper.onmousedown=this.wrapper.ontouchstart=function(b){a.wrapperDownHandler(b)};var b=document.onmouseup||function(){};document.onmouseup=function(c){b(c);a.documentUpHandler(c)};
var c=document.ontouchend||function(){};document.ontouchend=function(b){c(b);a.documentUpHandler(b)};var d=window.onresize||function(){};window.onresize=function(b){d(b);a.documentResizeHandler(b)};this.wrapper.onmousemove=function(b){a.activity=!0};this.wrapper.onclick=function(b){return!a.activity};this.interval=setInterval(function(){a.animate()},25);a.animate(!1,!0)},handleDownHandler:function(a){this.activity=!1;Cursor.refresh(a);this.preventDefaults(a,!0);this.startDrag();this.cancelEvent(a)},
wrapperDownHandler:function(a){Cursor.refresh(a);this.preventDefaults(a,!0);this.startTap()},documentUpHandler:function(a){this.stopDrag();this.stopTap()},documentResizeHandler:function(a){this.setWrapperOffset();this.setBounds();this.update()},enable:function(){this.disabled=!1;this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0;this.handle.className+=" disabled"},setStep:function(a,b,c){this.setValue(this.steps&&1<a?(a-1)/(this.steps-1):0,
this.steps&&1<b?(b-1)/(this.steps-1):0,c)},setValue:function(a,b,c){this.setTargetValue([a,b||0]);c&&this.groupCopy(this.value.current,this.value.target)},startTap:function(a){this.disabled||(this.tapping=!0,void 0===a&&(a=[Cursor.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,Cursor.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]),this.setTargetOffset(a))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current),this.result())},startDrag:function(){this.disabled||
(this.offset.mouse=[Cursor.x-Position.get(this.handle)[0],Cursor.y-Position.get(this.handle)[1]],this.dragging=!0)},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var a=this.groupClone(this.value.current);if(this.slide){var b=this.change;a[0]+=4*b[0];a[1]+=4*b[1]}this.setTargetValue(a);this.result()}},feedback:function(){var a=this.value.current;this.snap&&1<this.steps&&(a=this.getClosestSteps(a));this.groupCompare(a,this.value.prev)||("function"==typeof this.animationCallback&&
this.animationCallback(a[0],a[1]),this.groupCopy(this.value.prev,a))},result:function(){"function"==typeof this.callback&&this.callback(this.value.target[0],this.value.target[1])},animate:function(a,b){if(!a||this.dragging){if(this.dragging){var c=this.groupClone(this.value.target);this.setTargetOffset([Cursor.x-this.offset.wrapper[0]-this.offset.mouse[0],Cursor.y-this.offset.wrapper[1]-this.offset.mouse[1]],this.loose);this.change=[this.value.target[0]-c[0],this.value.target[1]-c[1]]}(this.dragging||
b)&&this.groupCopy(this.value.current,this.value.target);if(this.dragging||this.glide()||b)this.update(),this.feedback()}},glide:function(){var a=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];if(!a[0]&&!a[1])return!1;Math.abs(a[0])>this.bounds.xStep||Math.abs(a[1])>this.bounds.yStep?(this.value.current[0]+=a[0]*this.speed,this.value.current[1]+=a[1]*this.speed):this.groupCopy(this.value.current,this.value.target);return!0},update:function(){this.offset.current=
this.snap?this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.getOffsetsByRatios(this.value.current);this.show()},show:function(){this.groupCompare(this.offset.current,this.offset.prev)||(this.horizontal&&(this.handle.style.left=String(this.offset.current[0])+"px"),this.vertical&&(this.handle.style.top=String(this.offset.current[1])+"px"),this.groupCopy(this.offset.prev,this.offset.current))},setTargetValue:function(a,b){var c=b?this.getLooseValue(a):this.getProperValue(a);this.groupCopy(this.value.target,
c);this.offset.target=this.getOffsetsByRatios(c)},setTargetOffset:function(a,b){var c=this.getRatiosByOffsets(a),c=b?this.getLooseValue(c):this.getProperValue(c);this.groupCopy(this.value.target,c);this.offset.target=this.getOffsetsByRatios(c)},getLooseValue:function(a){var b=this.getProperValue(a);return[b[0]+(a[0]-b[0])/4,b[1]+(a[1]-b[1])/4]},getProperValue:function(a){a=this.groupClone(a);a[0]=Math.max(a[0],0);a[1]=Math.max(a[1],0);a[0]=Math.min(a[0],1);a[1]=Math.min(a[1],1);if(!this.dragging&&
!this.tapping||this.snap)1<this.steps&&(a=this.getClosestSteps(a));return a},getRatiosByOffsets:function(a){return[this.getRatioByOffset(a[0],this.bounds.xRange,this.bounds.x0),this.getRatioByOffset(a[1],this.bounds.yRange,this.bounds.y0)]},getRatioByOffset:function(a,b,c){return b?(a-c)/b:0},getOffsetsByRatios:function(a){return[this.getOffsetByRatio(a[0],this.bounds.xRange,this.bounds.x0),this.getOffsetByRatio(a[1],this.bounds.yRange,this.bounds.y0)]},getOffsetByRatio:function(a,b,c){return Math.round(a*
b)+c},getClosestSteps:function(a){return[this.getClosestStep(a[0]),this.getClosestStep(a[1])]},getClosestStep:function(a){for(var b=0,c=1,d=0;d<=this.steps-1;d++)Math.abs(this.stepRatios[d]-a)<c&&(c=Math.abs(this.stepRatios[d]-a),b=d);return this.stepRatios[b]},groupCompare:function(a,b){return a[0]==b[0]&&a[1]==b[1]},groupCopy:function(a,b){a[0]=b[0];a[1]=b[1]},groupClone:function(a){return[a[0],a[1]]},preventDefaults:function(a,b){a||(a=window.event);a.preventDefault&&a.preventDefault();a.returnValue=
!1;b&&document.selection&&document.selection.empty()},cancelEvent:function(a){a||(a=window.event);a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0}};(function(a){function b(a){a=document.createEvent("CustomEvent");a.initCustomEvent("fullscreenchange",!0,!1,null);document.dispatchEvent(a)}function c(a){a=document.createEvent("CustomEvent");a.initCustomEvent("fullscreenerror",!0,!1,null);document.dispatchEvent(a)}function d(a){a=document.createEvent("CustomEvent");a.initCustomEvent("pointerlockchange",!0,!1,null);document.dispatchEvent(a)}function g(a){a=document.createEvent("CustomEvent");a.initCustomEvent("pointerlockerror",!0,!1,null);document.dispatchEvent(a)}
var e=(a.HTMLElement||a.Element).prototype,h,l=a.GameShim={supports:{fullscreen:!0,pointerLock:!0,gamepad:!0,highResTimer:!0}};(function(){var a=0,b=["webkit","moz","ms","o"],c;for(c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"];window.cancelAnimationFrame=window.cancelAnimationFrame||window.cancelRequestAnimationFrame;for(c=0;c<b.length&&!window.cancelAnimationFrame;++c)window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||
window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var f=Date.now(),d=Math.max(0,16-(f-a)),r=window.setTimeout(function(){b(f+d)},d);a=f+d;return r});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.animationStartTime||(h=function(){for(c=0;c<b.length;++c)if(window[b[c]+"AnimationStartTime"])return function(){return window[b[c]+"AnimationStartTime"]};return function(){return Date.now()}}(),
Object.defineProperty(window,"animationStartTime",{enumerable:!0,configurable:!1,writeable:!1,get:h}))})();document.hasOwnProperty("fullscreenEnabled")||(h=function(){if("webkitIsFullScreen"in document)return function(){return document.webkitFullscreenEnabled};if("mozFullScreenEnabled"in document)return function(){return document.mozFullScreenEnabled};l.supports.fullscreen=!1;return function(){return!1}}(),Object.defineProperty(document,"fullscreenEnabled",{enumerable:!0,configurable:!1,writeable:!1,
get:h}));document.hasOwnProperty("fullscreenElement")||(h=function(){for(var a=0,b=["webkitCurrentFullScreenElement","webkitFullscreenElement","mozFullScreenElement"];a<b.length;a++)if(b[a]in document)return function(){return document[b[a]]};return function(){return null}}(),Object.defineProperty(document,"fullscreenElement",{enumerable:!0,configurable:!1,writeable:!1,get:h}));document.addEventListener("webkitfullscreenchange",b,!1);document.addEventListener("mozfullscreenchange",b,!1);document.addEventListener("webkitfullscreenerror",
c,!1);document.addEventListener("mozfullscreenerror",c,!1);e.requestFullScreen||(e.requestFullScreen=function(){return e.webkitRequestFullScreen?function(){this.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:e.mozRequestFullScreen?function(){this.mozRequestFullScreen()}:function(){}}());document.cancelFullScreen||(document.cancelFullScreen=function(){return document.webkitCancelFullScreen||document.mozCancelFullScreen||function(){}}());a=a.MouseEvent.prototype;"movementX"in a||Object.defineProperty(a,
"movementX",{enumerable:!0,configurable:!1,writeable:!1,get:function(){return this.webkitMovementX||this.mozMovementX||0}});"movementY"in a||Object.defineProperty(a,"movementY",{enumerable:!0,configurable:!1,writeable:!1,get:function(){return this.webkitMovementY||this.mozMovementY||0}});navigator.pointer||(navigator.pointer=navigator.webkitPointer||navigator.mozPointer);document.addEventListener("webkitpointerlockchange",d,!1);document.addEventListener("webkitpointerlocklost",d,!1);document.addEventListener("mozpointerlockchange",
d,!1);document.addEventListener("mozpointerlocklost",d,!1);document.addEventListener("webkitpointerlockerror",g,!1);document.addEventListener("mozpointerlockerror",g,!1);document.hasOwnProperty("pointerLockElement")||(h=function(){return"webkitPointerLockElement"in document?function(){return document.webkitPointerLockElement}:"mozPointerLockElement"in document?function(){return document.mozPointerLockElement}:function(){return null}}(),Object.defineProperty(document,"pointerLockElement",{enumerable:!0,
configurable:!1,writeable:!1,get:h}));e.requestPointerLock||(e.requestPointerLock=function(){if(e.webkitRequestPointerLock)return function(){this.webkitRequestPointerLock()};if(e.mozRequestPointerLock)return function(){this.mozRequestPointerLock()};if(navigator.pointer)return function(){navigator.pointer.lock(this,d,g)};l.supports.pointerLock=!1;return function(){}}());document.exitPointerLock||(document.exitPointerLock=function(){return document.webkitExitPointerLock||document.mozExitPointerLock||
function(){navigator.pointer&&navigator.pointer.unlock()}}());navigator.getGamepads||(navigator.getGamepads=function(){if("webkitGetGamepads"in navigator)return navigator.webkitGetGamepads;if("mozGetGamepads"in navigator)return navigator.mozGetGamepads;if("webkitGamepads"in navigator)return function(){return navigator.webkitGamepads};if("mozGamepads"in navigator)return function(){return navigator.mozGamepads};l.supports.gamepad=!1;var a=[];return function(){return a}}());window.performance||(window.performance=
{});window.performance.timing||(window.performance.timing={navigationStart:Date.now()});window.performance.now||(window.performance.now=function(){if(window.performance.webkitNow)return window.performance.webkitNow;l.supports.highResTimer=!1;return function(){return Date.now()-window.performance.timing.navigationStart}}())})("undefined"!=typeof exports?global:window);(function(){var a={},b=null,c=!0,d=!1;if("undefined"!==typeof AudioContext)b=new AudioContext;else if("undefined"!==typeof webkitAudioContext)b=new webkitAudioContext;else if("undefined"!==typeof Audio){c=!1;try{new Audio}catch(g){d=!0}}else c=!1,d=!0;if(c){var e="undefined"===typeof b.createGain?b.createGainNode():b.createGain();e.gain.value=1;e.connect(b.destination)}var h=function(){this._volume=1;this._muted=!1;this.usingWebAudio=c;this._howls=[]};h.prototype={volume:function(a){a=parseFloat(a);
if(0<=a&&1>=a){this._volume=a;c&&(e.gain.value=a);for(var b in this._howls)if(this._howls.hasOwnProperty(b)&&!1===this._howls[b]._webAudio)for(a=0;a<this._howls[b]._audioNode.length;a++)this._howls[b]._audioNode[a].volume=this._howls[b]._volume*this._volume;return this}return c?e.gain.value:this._volume},mute:function(){this._setMuted(!0);return this},unmute:function(){this._setMuted(!1);return this},_setMuted:function(a){this._muted=a;c&&(e.gain.value=a?0:this._volume);for(var b in this._howls)if(this._howls.hasOwnProperty(b)&&
!1===this._howls[b]._webAudio)for(var d=0;d<this._howls[b]._audioNode.length;d++)this._howls[b]._audioNode[d].muted=a}};var l=new h,h=null;if(!d)var h=new Audio,k={mp3:!!h.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!h.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,
""),weba:!!h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")};var n=function(a){this._autoplay=a.autoplay||!1;this._buffer=a.buffer||!1;this._duration=a.duration||0;this._format=a.format||null;this._loop=a.loop||!1;this._loaded=!1;this._sprite=a.sprite||{};this._src=a.src||"";this._pos3d=a.pos3d||[0,0,-0.5];this._volume=void 0!==a.volume?a.volume:1;this._urls=a.urls||[];this._rate=a.rate||1;this._onload=[a.onload||function(){}];this._onloaderror=[a.onloaderror||function(){}];this._onend=
[a.onend||function(){}];this._onpause=[a.onpause||function(){}];this._onplay=[a.onplay||function(){}];this._onendTimer=[];this._webAudio=c&&!this._buffer;this._audioNode=[];this._webAudio&&this._setupAudioNode();l._howls.push(this);this.load()};n.prototype={load:function(){var b=this,c=null;if(!d){for(var r=0;r<b._urls.length;r++){var e,g;if(b._format)e=b._format;else if(g=b._urls[r].toLowerCase().split("?")[0],e=(e=g.match(/.+\.([^?]+)(\?|$)/))&&2<=e.length?e:g.match(/data\:audio\/([^?]+);/))e=e[1];
else{b.on("loaderror");return}if(k[e]){c=b._urls[r];break}}if(c){b._src=c;if(b._webAudio)p(b,c);else{var h=new Audio;b._audioNode.push(h);h.src=c;h._pos=0;h.preload="auto";h.volume=l._muted?0:b._volume*l.volume();a[c]=b;var q=function(){b._duration=h.duration;0===Object.getOwnPropertyNames(b._sprite).length&&(b._sprite={_default:[0,1E3*b._duration]});b._loaded||(b._loaded=!0,b.on("load"));b._autoplay&&b.play();h.removeEventListener("canplaythrough",q,!1)};h.addEventListener("canplaythrough",q,!1);
h.load()}return b}}b.on("loaderror")},urls:function(a){return a?(this.stop(),this._urls="string"===typeof a?[a]:a,this._loaded=!1,this.load(),this):this._urls},play:function(a,c){var d=this;"function"===typeof a&&(c=a);if(!a||"function"===typeof a)a="_default";if(!d._loaded)return d.on("load",function(){d.play(a,c)}),d;if(!d._sprite[a])return"function"===typeof c&&c(),d;d._inactiveNode(function(e){e._sprite=a;var g=0<e._pos?e._pos:d._sprite[a][0]/1E3,h=d._sprite[a][1]/1E3-e._pos,q=!(!d._loop&&!d._sprite[a][2]),
k="string"===typeof c?c:Math.round(Date.now()*Math.random())+"",n;(function(){var b={id:k,sprite:a,loop:q};n=setTimeout(function(){!d._webAudio&&q&&d.stop(b.id,b.timer).play(a,b.id);d._webAudio&&!q&&(d._nodeById(b.id).paused=!0,d._nodeById(b.id)._pos=0);!d._webAudio&&!q&&d.stop(b.id,b.timer);d.on("end",k)},1E3*h);d._onendTimer.push(n);b.timer=d._onendTimer[d._onendTimer.length-1]})();if(d._webAudio){var p=d._sprite[a][0]/1E3,B=d._sprite[a][1]/1E3;e.id=k;e.paused=!1;u(d,[q,p,B],k);d._playStart=b.currentTime;
e.gain.value=d._volume;"undefined"===typeof e.bufferSource.start?e.bufferSource.noteGrainOn(0,g,h):e.bufferSource.start(0,g,h)}else if(4===e.readyState)e.id=k,e.currentTime=g,e.muted=l._muted,e.volume=d._volume*l.volume(),setTimeout(function(){e.play()},0);else return d._clearEndTimer(n),function(){var b=a,g=c,h=function(){d.play(b,g);e.removeEventListener("canplaythrough",h,!1)};e.addEventListener("canplaythrough",h,!1)}(),d;d.on("play");"function"===typeof c&&c(k);return d});return d},pause:function(a,
b){var c=this;if(!c._loaded)return c.on("play",function(){c.pause(a)}),c;c._clearEndTimer(b||0);var d=a?c._nodeById(a):c._activeNode();if(d)if(d._pos=c.pos(null,a),c._webAudio){if(!d.bufferSource)return c;d.paused=!0;"undefined"===typeof d.bufferSource.stop?d.bufferSource.noteOff(0):d.bufferSource.stop(0)}else d.pause();c.on("pause");return c},stop:function(a,b){var c=this;if(!c._loaded)return c.on("play",function(){c.stop(a)}),c;c._clearEndTimer(b||0);var d=a?c._nodeById(a):c._activeNode();if(d)if(d._pos=
0,c._webAudio){if(!d.bufferSource)return c;d.paused=!0;"undefined"===typeof d.bufferSource.stop?d.bufferSource.noteOff(0):d.bufferSource.stop(0)}else d.pause(),d.currentTime=0;return c},mute:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.mute(a)}),b;var c=a?b._nodeById(a):b._activeNode();c&&(b._webAudio?c.gain.value=0:c.volume=0);return b},unmute:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.unmute(a)}),b;var c=a?b._nodeById(a):b._activeNode();c&&(b._webAudio?
c.gain.value=b._volume:c.volume=b._volume);return b},volume:function(a,b){var c=this;a=parseFloat(a);if(0<=a&&1>=a){c._volume=a;if(!c._loaded)return c.on("play",function(){c.volume(a,b)}),c;var d=b?c._nodeById(b):c._activeNode();d&&(c._webAudio?d.gain.value=a:d.volume=a*l.volume());return c}return c._volume},loop:function(a){return"boolean"===typeof a?(this._loop=a,this):this._loop},sprite:function(a){return"object"===typeof a?(this._sprite=a,this):this._sprite},pos:function(a,c){var d=this;if(!d._loaded)return d.on("load",
function(){d.pos(a)}),"number"===typeof a?d:d._pos||0;a=parseFloat(a);var e=c?d._nodeById(c):d._activeNode();if(e)return d._webAudio?0<=a?(d.pause(c),e._pos=a,d.play(e._sprite,c),d):e._pos+(b.currentTime-d._playStart):0<=a?(e.currentTime=a,d):e.currentTime;if(0<=a)return d;for(e=0;e<d._audioNode.length;e++)if(d._audioNode[e].paused&&4===d._audioNode[e].readyState)return d._webAudio?d._audioNode[e]._pos:d._audioNode[e].currentTime},pos3d:function(a,b,c,d){var e=this;b="undefined"===typeof b||!b?0:
b;c="undefined"===typeof c||!c?-0.5:c;if(!e._loaded)return e.on("play",function(){e.pos3d(a,b,c,d)}),e;if(0<=a||0>a){if(e._webAudio){var g=d?e._nodeById(d):e._activeNode();g&&(e._pos3d=[a,b,c],g.panner.setPosition(a,b,c))}}else return e._pos3d;return e},fade:function(a,b,c,d,e){var g=this,h=Math.abs(a-b),l=a>b?"down":"up",h=h/0.01,q=c/h;if(!g._loaded)return g.on("load",function(){g.fade(a,b,c,d,e)}),g;g.volume(a,e);for(var k=1;k<=h;k++)(function(){var a=Math.round(1E3*(g._volume+("up"===l?0.01:-0.01)*
k))/1E3;setTimeout(function(){g.volume(a,e);a===b&&d&&d()},q*k)})()},fadeIn:function(a,b,c){return this.volume(0).play().fade(0,a,b,c)},fadeOut:function(a,b,c,d){var e=this;return e.fade(e._volume,a,b,function(){c&&c();e.pause(d);e.on("end")},d)},_nodeById:function(a){for(var b=this._audioNode[0],c=0;c<this._audioNode.length;c++)if(this._audioNode[c].id===a){b=this._audioNode[c];break}return b},_activeNode:function(){for(var a=null,b=0;b<this._audioNode.length;b++)if(!this._audioNode[b].paused){a=
this._audioNode[b];break}this._drainPool();return a},_inactiveNode:function(a){for(var b=null,c=0;c<this._audioNode.length;c++)if(this._audioNode[c].paused&&4===this._audioNode[c].readyState){a(this._audioNode[c]);b=!0;break}this._drainPool();if(!b){var d;this._webAudio?(d=this._setupAudioNode(),a(d)):(this.load(),d=this._audioNode[this._audioNode.length-1],d.addEventListener("loadedmetadata",function(){a(d)}))}},_drainPool:function(){var a=0,b;for(b=0;b<this._audioNode.length;b++)this._audioNode[b].paused&&
a++;for(b=this._audioNode.length-1;0<=b&&!(5>=a);b--)this._audioNode[b].paused&&(this._webAudio&&this._audioNode[b].disconnect(0),a--,this._audioNode.splice(b,1))},_clearEndTimer:function(a){a=this._onendTimer.indexOf(a);a=0<=a?a:0;this._onendTimer[a]&&(clearTimeout(this._onendTimer[a]),this._onendTimer.splice(a,1))},_setupAudioNode:function(){var a=this._audioNode,c=this._audioNode.length;a[c]="undefined"===typeof b.createGain?b.createGainNode():b.createGain();a[c].gain.value=this._volume;a[c].paused=
!0;a[c]._pos=0;a[c].readyState=4;a[c].connect(e);a[c].panner=b.createPanner();a[c].panner.setPosition(this._pos3d[0],this._pos3d[1],this._pos3d[2]);a[c].panner.connect(a[c]);return a[c]},on:function(a,b){var c=this["_on"+a];if("function"===typeof b)c.push(b);else for(var d=0;d<c.length;d++)b?c[d].call(this,b):c[d].call(this);return this},off:function(a,b){for(var c=this["_on"+a],d=b.toString(),e=0;e<c.length;e++)if(d===c[e].toString()){c.splice(e,1);break}return this},unload:function(){for(var b=
this._audioNode,c=0;c<this._audioNode.length;c++)b[c].paused||this.stop(b[c].id),this._webAudio?b[c].disconnect(0):b[c].src="";b=l._howls.indexOf(this);null!==b&&0<=b&&l._howls.splice(b,1);delete a[this._src]}};if(c)var p=function(c,d){if(d in a)c._duration=a[d].duration,q(c);else{var e=new XMLHttpRequest;e.open("GET",d,!0);e.responseType="arraybuffer";e.onload=function(){b.decodeAudioData(e.response,function(b){b&&(a[d]=b,q(c,b))},function(a){c.on("loaderror")})};e.onerror=function(){c._webAudio&&
(c._buffer=!0,c._webAudio=!1,c._audioNode=[],delete c._gainNode,c.load())};try{e.send()}catch(g){e.onerror()}}},q=function(a,b){a._duration=b?b.duration:a._duration;0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1E3*a._duration]});a._loaded||(a._loaded=!0,a.on("load"));a._autoplay&&a.play()},u=function(c,d,e){e=c._nodeById(e);e.bufferSource=b.createBufferSource();e.bufferSource.buffer=a[c._src];e.bufferSource.connect(e.panner);e.bufferSource.loop=d[0];d[0]&&(e.bufferSource.loopStart=
d[1],e.bufferSource.loopEnd=d[1]+d[2]);e.bufferSource.playbackRate.value=c._rate};"function"===typeof define&&define.amd&&define(function(){return{Howler:l,Howl:n}});window.Howler=l;window.Howl=n})();(function(a,b,c){function d(a){return a}function g(a){a=decodeURIComponent(a.replace(e," "));0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));return a}var e=/\+/g,h=a.cookie=function(e,k,n){if(k!==c){n=a.extend({},h.defaults,n);null===k&&(n.expires=-1);if("number"===typeof n.expires){var p=n.expires,q=n.expires=new Date;q.setDate(q.getDate()+p)}k=h.json?JSON.stringify(k):String(k);return b.cookie=[encodeURIComponent(e),"=",h.raw?k:encodeURIComponent(k),n.expires?"; expires="+
n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}k=h.raw?d:g;n=b.cookie.split("; ");for(var p=e?null:{},q=0,u=n.length;q<u;q++){var f=n[q].split("="),m=k(f.shift()),f=k(f.join("="));if(e&&e===m){p=h.json?JSON.parse(f):f;break}e||(p[m]=h.json?JSON.parse(f):f)}return p};h.defaults={};a.removeCookie=function(b,c){return null!==a.cookie(b)?(a.cookie(b,null,c),!0):!1}})(jQuery,document);eval(function(a,b,c,d,g,e){g=function(a){return(a<b?"":g(parseInt(a/b)))+(35<(a%=b)?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){for(;c--;)e[g(c)]=d[c]||g(c);d=[function(a){return e[a]}];g=function(){return"\\w+"};c=1}for(;c--;)d[c]&&(a=a.replace(RegExp("\\b"+g(c)+"\\b","g"),d[c]));return a}('7(A 3c.3q!=="9"){3c.3q=9(e){9 t(){}t.5S=e;p 5R t}}(9(e,t,n){h r={1N:9(t,n){h r=c;r.$k=e(n);r.6=e.4M({},e.37.2B.6,r.$k.v(),t);r.2A=t;r.4L()},4L:9(){9 r(e){h n,r="";7(A t.6.33==="9"){t.6.33.R(c,[e])}l{1A(n 38 e.d){7(e.d.5M(n)){r+=e.d[n].1K}}t.$k.2y(r)}t.3t()}h t=c,n;7(A t.6.2H==="9"){t.6.2H.R(c,[t.$k])}7(A t.6.2O==="2Y"){n=t.6.2O;e.5K(n,r)}l{t.3t()}},3t:9(){h e=c;e.$k.v("d-4I",e.$k.2x("2w")).v("d-4F",e.$k.2x("H"));e.$k.z({2u:0});e.2t=e.6.q;e.4E();e.5v=0;e.1X=14;e.23()},23:9(){h e=c;7(e.$k.25().N===0){p b}e.1M();e.4C();e.$S=e.$k.25();e.E=e.$S.N;e.4B();e.$G=e.$k.17(".d-1K");e.$K=e.$k.17(".d-1p");e.3u="U";e.13=0;e.26=[0];e.m=0;e.4A();e.4z()},4z:9(){h e=c;e.2V();e.2W();e.4t();e.30();e.4r();e.4q();e.2p();e.4o();7(e.6.2o!==b){e.4n(e.6.2o)}7(e.6.O===j){e.6.O=4Q}e.19();e.$k.17(".d-1p").z("4i","4h");7(!e.$k.2m(":3n")){e.3o()}l{e.$k.z("2u",1)}e.5O=b;e.2l();7(A e.6.3s==="9"){e.6.3s.R(c,[e.$k])}},2l:9(){h e=c;7(e.6.1Z===j){e.1Z()}7(e.6.1B===j){e.1B()}e.4g();7(A e.6.3w==="9"){e.6.3w.R(c,[e.$k])}},3x:9(){h e=c;7(A e.6.3B==="9"){e.6.3B.R(c,[e.$k])}e.3o();e.2V();e.2W();e.4f();e.30();e.2l();7(A e.6.3D==="9"){e.6.3D.R(c,[e.$k])}},3F:9(){h e=c;t.1c(9(){e.3x()},0)},3o:9(){h e=c;7(e.$k.2m(":3n")===b){e.$k.z({2u:0});t.18(e.1C);t.18(e.1X)}l{p b}e.1X=t.4d(9(){7(e.$k.2m(":3n")){e.3F();e.$k.4b({2u:1},2M);t.18(e.1X)}},5x)},4B:9(){h e=c;e.$S.5n(\'<L H="d-1p">\').4a(\'<L H="d-1K"></L>\');e.$k.17(".d-1p").4a(\'<L H="d-1p-49">\');e.1H=e.$k.17(".d-1p-49");e.$k.z("4i","4h")},1M:9(){h e=c,t=e.$k.1I(e.6.1M),n=e.$k.1I(e.6.2i);7(!t){e.$k.I(e.6.1M)}7(!n){e.$k.I(e.6.2i)}},2V:9(){h t=c,n,r;7(t.6.2Z===b){p b}7(t.6.48===j){t.6.q=t.2t=1;t.6.1h=b;t.6.1s=b;t.6.1O=b;t.6.22=b;t.6.1Q=b;t.6.1R=b;p b}n=e(t.6.47).1f();7(n>(t.6.1s[0]||t.2t)){t.6.q=t.2t}7(t.6.1h!==b){t.6.1h.5g(9(e,t){p e[0]-t[0]});1A(r=0;r<t.6.1h.N;r+=1){7(t.6.1h[r][0]<=n){t.6.q=t.6.1h[r][1]}}}l{7(n<=t.6.1s[0]&&t.6.1s!==b){t.6.q=t.6.1s[1]}7(n<=t.6.1O[0]&&t.6.1O!==b){t.6.q=t.6.1O[1]}7(n<=t.6.22[0]&&t.6.22!==b){t.6.q=t.6.22[1]}7(n<=t.6.1Q[0]&&t.6.1Q!==b){t.6.q=t.6.1Q[1]}7(n<=t.6.1R[0]&&t.6.1R!==b){t.6.q=t.6.1R[1]}}7(t.6.q>t.E&&t.6.46===j){t.6.q=t.E}},4r:9(){h n=c,r,i;7(n.6.2Z!==j){p b}i=e(t).1f();n.3d=9(){7(e(t).1f()!==i){7(n.6.O!==b){t.18(n.1C)}t.5d(r);r=t.1c(9(){i=e(t).1f();n.3x()},n.6.45)}};e(t).44(n.3d)},4f:9(){h e=c;e.2g(e.m);7(e.6.O!==b){e.3j()}},43:9(){h t=c,n=0,r=t.E-t.6.q;t.$G.2f(9(i){h s=e(c);s.z({1f:t.M}).v("d-1K",3p(i));7(i%t.6.q===0||i===r){7(!(i>r)){n+=1}}s.v("d-24",n)})},42:9(){h e=c,t=e.$G.N*e.M;e.$K.z({1f:t*2,T:0});e.43()},2W:9(){h e=c;e.40();e.42();e.3Z();e.3v()},40:9(){h e=c;e.M=1F.4O(e.$k.1f()/e.6.q)},3v:9(){h e=c,t=(e.E*e.M-e.6.q*e.M)*-1;7(e.6.q>e.E){e.D=0;t=0;e.3z=0}l{e.D=e.E-e.6.q;e.3z=t}p t},3Y:9(){p 0},3Z:9(){h t=c,n=0,r=0,i,s,o;t.J=[0];t.3E=[];1A(i=0;i<t.E;i+=1){r+=t.M;t.J.2D(-r);7(t.6.12===j){s=e(t.$G[i]);o=s.v("d-24");7(o!==n){t.3E[n]=t.J[i];n=o}}}},4t:9(){h t=c;7(t.6.2a===j||t.6.1v===j){t.B=e(\'<L H="d-5A"/>\').5m("5l",!t.F.15).5c(t.$k)}7(t.6.1v===j){t.3T()}7(t.6.2a===j){t.3S()}},3S:9(){h t=c,n=e(\'<L H="d-4U"/>\');t.B.1o(n);t.1u=e("<L/>",{"H":"d-1n",2y:t.6.2U[0]||""});t.1q=e("<L/>",{"H":"d-U",2y:t.6.2U[1]||""});n.1o(t.1u).1o(t.1q);n.w("2X.B 21.B",\'L[H^="d"]\',9(e){e.1l()});n.w("2n.B 28.B",\'L[H^="d"]\',9(n){n.1l();7(e(c).1I("d-U")){t.U()}l{t.1n()}})},3T:9(){h t=c;t.1k=e(\'<L H="d-1v"/>\');t.B.1o(t.1k);t.1k.w("2n.B 28.B",".d-1j",9(n){n.1l();7(3p(e(c).v("d-1j"))!==t.m){t.1g(3p(e(c).v("d-1j")),j)}})},3P:9(){h t=c,n,r,i,s,o,u;7(t.6.1v===b){p b}t.1k.2y("");n=0;r=t.E-t.E%t.6.q;1A(s=0;s<t.E;s+=1){7(s%t.6.q===0){n+=1;7(r===s){i=t.E-t.6.q}o=e("<L/>",{"H":"d-1j"});u=e("<3N></3N>",{4R:t.6.39===j?n:"","H":t.6.39===j?"d-59":""});o.1o(u);o.v("d-1j",r===s?i:s);o.v("d-24",n);t.1k.1o(o)}}t.35()},35:9(){h t=c;7(t.6.1v===b){p b}t.1k.17(".d-1j").2f(9(){7(e(c).v("d-24")===e(t.$G[t.m]).v("d-24")){t.1k.17(".d-1j").Z("2d");e(c).I("2d")}})},3e:9(){h e=c;7(e.6.2a===b){p b}7(e.6.2e===b){7(e.m===0&&e.D===0){e.1u.I("1b");e.1q.I("1b")}l 7(e.m===0&&e.D!==0){e.1u.I("1b");e.1q.Z("1b")}l 7(e.m===e.D){e.1u.Z("1b");e.1q.I("1b")}l 7(e.m!==0&&e.m!==e.D){e.1u.Z("1b");e.1q.Z("1b")}}},30:9(){h e=c;e.3P();e.3e();7(e.B){7(e.6.q>=e.E){e.B.3K()}l{e.B.3J()}}},55:9(){h e=c;7(e.B){e.B.3k()}},U:9(e){h t=c;7(t.1E){p b}t.m+=t.6.12===j?t.6.q:1;7(t.m>t.D+(t.6.12===j?t.6.q-1:0)){7(t.6.2e===j){t.m=0;e="2k"}l{t.m=t.D;p b}}t.1g(t.m,e)},1n:9(e){h t=c;7(t.1E){p b}7(t.6.12===j&&t.m>0&&t.m<t.6.q){t.m=0}l{t.m-=t.6.12===j?t.6.q:1}7(t.m<0){7(t.6.2e===j){t.m=t.D;e="2k"}l{t.m=0;p b}}t.1g(t.m,e)},1g:9(e,n,r){h i=c,s;7(i.1E){p b}7(A i.6.1Y==="9"){i.6.1Y.R(c,[i.$k])}7(e>=i.D){e=i.D}l 7(e<=0){e=0}i.m=i.d.m=e;7(i.6.2o!==b&&r!=="4e"&&i.6.q===1&&i.F.1x===j){i.1t(0);7(i.F.1x===j){i.1L(i.J[e])}l{i.1r(i.J[e],1)}i.2r();i.4l();p b}s=i.J[e];7(i.F.1x===j){i.1T=b;7(n===j){i.1t("1w");t.1c(9(){i.1T=j},i.6.1w)}l 7(n==="2k"){i.1t(i.6.2v);t.1c(9(){i.1T=j},i.6.2v)}l{i.1t("1m");t.1c(9(){i.1T=j},i.6.1m)}i.1L(s)}l{7(n===j){i.1r(s,i.6.1w)}l 7(n==="2k"){i.1r(s,i.6.2v)}l{i.1r(s,i.6.1m)}}i.2r()},2g:9(e){h t=c;7(A t.6.1Y==="9"){t.6.1Y.R(c,[t.$k])}7(e>=t.D||e===-1){e=t.D}l 7(e<=0){e=0}t.1t(0);7(t.F.1x===j){t.1L(t.J[e])}l{t.1r(t.J[e],1)}t.m=t.d.m=e;t.2r()},2r:9(){h e=c;e.26.2D(e.m);e.13=e.d.13=e.26[e.26.N-2];e.26.5f(0);7(e.13!==e.m){e.35();e.3e();e.2l();7(e.6.O!==b){e.3j()}}7(A e.6.3y==="9"&&e.13!==e.m){e.6.3y.R(c,[e.$k])}},X:9(){h e=c;e.3A="X";t.18(e.1C)},3j:9(){h e=c;7(e.3A!=="X"){e.19()}},19:9(){h e=c;e.3A="19";7(e.6.O===b){p b}t.18(e.1C);e.1C=t.4d(9(){e.U(j)},e.6.O)},1t:9(e){h t=c;7(e==="1m"){t.$K.z(t.2z(t.6.1m))}l 7(e==="1w"){t.$K.z(t.2z(t.6.1w))}l 7(A e!=="2Y"){t.$K.z(t.2z(e))}},2z:9(e){p{"-1G-1a":"2C "+e+"1z 2s","-1W-1a":"2C "+e+"1z 2s","-o-1a":"2C "+e+"1z 2s",1a:"2C "+e+"1z 2s"}},3H:9(){p{"-1G-1a":"","-1W-1a":"","-o-1a":"",1a:""}},3I:9(e){p{"-1G-P":"1i("+e+"V, C, C)","-1W-P":"1i("+e+"V, C, C)","-o-P":"1i("+e+"V, C, C)","-1z-P":"1i("+e+"V, C, C)",P:"1i("+e+"V, C,C)"}},1L:9(e){h t=c;t.$K.z(t.3I(e))},3L:9(e){h t=c;t.$K.z({T:e})},1r:9(e,t){h n=c;n.29=b;n.$K.X(j,j).4b({T:e},{54:t||n.6.1m,3M:9(){n.29=j}})},4E:9(){h e=c,r="1i(C, C, C)",i=n.56("L"),s,o,u,a;i.2w.3O="  -1W-P:"+r+"; -1z-P:"+r+"; -o-P:"+r+"; -1G-P:"+r+"; P:"+r;s=/1i\\(C, C, C\\)/g;o=i.2w.3O.5i(s);u=o!==14&&o.N===1;a="5z"38 t||t.5Q.4P;e.F={1x:u,15:a}},4q:9(){h e=c;7(e.6.27!==b||e.6.1U!==b){e.3Q();e.3R()}},4C:9(){h e=c,t=["s","e","x"];e.16={};7(e.6.27===j&&e.6.1U===j){t=["2X.d 21.d","2N.d 3U.d","2n.d 3V.d 28.d"]}l 7(e.6.27===b&&e.6.1U===j){t=["2X.d","2N.d","2n.d 3V.d"]}l 7(e.6.27===j&&e.6.1U===b){t=["21.d","3U.d","28.d"]}e.16.3W=t[0];e.16.2K=t[1];e.16.2J=t[2]},3R:9(){h t=c;t.$k.w("5y.d",9(e){e.1l()});t.$k.w("21.3X",9(t){p e(t.1d).2m("5C, 5E, 5F, 5N")})},3Q:9(){9 s(e){7(e.2b!==W){p{x:e.2b[0].2c,y:e.2b[0].41}}7(e.2b===W){7(e.2c!==W){p{x:e.2c,y:e.41}}7(e.2c===W){p{x:e.52,y:e.53}}}}9 o(t){7(t==="w"){e(n).w(r.16.2K,a);e(n).w(r.16.2J,f)}l 7(t==="Q"){e(n).Q(r.16.2K);e(n).Q(r.16.2J)}}9 u(n){h u=n.3h||n||t.3g,a;7(u.5a===3){p b}7(r.E<=r.6.q){p}7(r.29===b&&!r.6.3f){p b}7(r.1T===b&&!r.6.3f){p b}7(r.6.O!==b){t.18(r.1C)}7(r.F.15!==j&&!r.$K.1I("3b")){r.$K.I("3b")}r.11=0;r.Y=0;e(c).z(r.3H());a=e(c).2h();i.2S=a.T;i.2R=s(u).x-a.T;i.2P=s(u).y-a.5o;o("w");i.2j=b;i.2L=u.1d||u.4c}9 a(o){h u=o.3h||o||t.3g,a,f;r.11=s(u).x-i.2R;r.2I=s(u).y-i.2P;r.Y=r.11-i.2S;7(A r.6.2E==="9"&&i.3C!==j&&r.Y!==0){i.3C=j;r.6.2E.R(r,[r.$k])}7((r.Y>8||r.Y<-8)&&r.F.15===j){7(u.1l!==W){u.1l()}l{u.5L=b}i.2j=j}7((r.2I>10||r.2I<-10)&&i.2j===b){e(n).Q("2N.d")}a=9(){p r.Y/5};f=9(){p r.3z+r.Y/5};r.11=1F.3v(1F.3Y(r.11,a()),f());7(r.F.1x===j){r.1L(r.11)}l{r.3L(r.11)}}9 f(n){h s=n.3h||n||t.3g,u,a,f;s.1d=s.1d||s.4c;i.3C=b;7(r.F.15!==j){r.$K.Z("3b")}7(r.Y<0){r.1y=r.d.1y="T"}l{r.1y=r.d.1y="3i"}7(r.Y!==0){u=r.4j();r.1g(u,b,"4e");7(i.2L===s.1d&&r.F.15!==j){e(s.1d).w("3a.4k",9(t){t.4S();t.4T();t.1l();e(t.1d).Q("3a.4k")});a=e.4N(s.1d,"4V").3a;f=a.4W();a.4X(0,0,f)}}o("Q")}h r=c,i={2R:0,2P:0,4Y:0,2S:0,2h:14,4Z:14,50:14,2j:14,51:14,2L:14};r.29=j;r.$k.w(r.16.3W,".d-1p",u)},4j:9(){h e=c,t=e.4m();7(t>e.D){e.m=e.D;t=e.D}l 7(e.11>=0){t=0;e.m=0}p t},4m:9(){h t=c,n=t.6.12===j?t.3E:t.J,r=t.11,i=14;e.2f(n,9(s,o){7(r-t.M/20>n[s+1]&&r-t.M/20<o&&t.34()==="T"){i=o;7(t.6.12===j){t.m=e.4p(i,t.J)}l{t.m=s}}l 7(r+t.M/20<o&&r+t.M/20>(n[s+1]||n[s]-t.M)&&t.34()==="3i"){7(t.6.12===j){i=n[s+1]||n[n.N-1];t.m=e.4p(i,t.J)}l{i=n[s+1];t.m=s+1}}});p t.m},34:9(){h e=c,t;7(e.Y<0){t="3i";e.3u="U"}l{t="T";e.3u="1n"}p t},4A:9(){h e=c;e.$k.w("d.U",9(){e.U()});e.$k.w("d.1n",9(){e.1n()});e.$k.w("d.19",9(t,n){e.6.O=n;e.19();e.32="19"});e.$k.w("d.X",9(){e.X();e.32="X"});e.$k.w("d.1g",9(t,n){e.1g(n)});e.$k.w("d.2g",9(t,n){e.2g(n)})},2p:9(){h e=c;7(e.6.2p===j&&e.F.15!==j&&e.6.O!==b){e.$k.w("57",9(){e.X()});e.$k.w("58",9(){7(e.32!=="X"){e.19()}})}},1Z:9(){h t=c,n,r,i,s,o;7(t.6.1Z===b){p b}1A(n=0;n<t.E;n+=1){r=e(t.$G[n]);7(r.v("d-1e")==="1e"){4s}i=r.v("d-1K");s=r.17(".5b");7(A s.v("1J")!=="2Y"){r.v("d-1e","1e");4s}7(r.v("d-1e")===W){s.3K();r.I("4u").v("d-1e","5e")}7(t.6.4v===j){o=i>=t.m}l{o=j}7(o&&i<t.m+t.6.q&&s.N){t.4w(r,s)}}},4w:9(e,n){9 o(){e.v("d-1e","1e").Z("4u");n.5h("v-1J");7(r.6.4x==="4y"){n.5j(5k)}l{n.3J()}7(A r.6.2T==="9"){r.6.2T.R(c,[r.$k])}}9 u(){i+=1;7(r.2Q(n.3l(0))||s===j){o()}l 7(i<=2q){t.1c(u,2q)}l{o()}}h r=c,i=0,s;7(n.5p("5q")==="5r"){n.z("5s-5t","5u("+n.v("1J")+")");s=j}l{n[0].1J=n.v("1J")}u()},1B:9(){9 s(){h r=e(n.$G[n.m]).2G();n.1H.z("2G",r+"V");7(!n.1H.1I("1B")){t.1c(9(){n.1H.I("1B")},0)}}9 o(){i+=1;7(n.2Q(r.3l(0))){s()}l 7(i<=2q){t.1c(o,2q)}l{n.1H.z("2G","")}}h n=c,r=e(n.$G[n.m]).17("5w"),i;7(r.3l(0)!==W){i=0;o()}l{s()}},2Q:9(e){h t;7(!e.3M){p b}t=A e.4D;7(t!=="W"&&e.4D===0){p b}p j},4g:9(){h t=c,n;7(t.6.2F===j){t.$G.Z("2d")}t.1D=[];1A(n=t.m;n<t.m+t.6.q;n+=1){t.1D.2D(n);7(t.6.2F===j){e(t.$G[n]).I("2d")}}t.d.1D=t.1D},4n:9(e){h t=c;t.4G="d-"+e+"-5B";t.4H="d-"+e+"-38"},4l:9(){9 a(e){p{2h:"5D",T:e+"V"}}h e=c,t=e.4G,n=e.4H,r=e.$G.1S(e.m),i=e.$G.1S(e.13),s=1F.4J(e.J[e.m])+e.J[e.13],o=1F.4J(e.J[e.m])+e.M/2,u="5G 5H 5I 5J";e.1E=j;e.$K.I("d-1P").z({"-1G-P-1P":o+"V","-1W-4K-1P":o+"V","4K-1P":o+"V"});i.z(a(s,10)).I(t).w(u,9(){e.3m=j;i.Q(u);e.31(i,t)});r.I(n).w(u,9(){e.36=j;r.Q(u);e.31(r,n)})},31:9(e,t){h n=c;e.z({2h:"",T:""}).Z(t);7(n.3m&&n.36){n.$K.Z("d-1P");n.3m=b;n.36=b;n.1E=b}},4o:9(){h e=c;e.d={2A:e.2A,5P:e.$k,S:e.$S,G:e.$G,m:e.m,13:e.13,1D:e.1D,15:e.F.15,F:e.F,1y:e.1y}},3G:9(){h r=c;r.$k.Q(".d d 21.3X");e(n).Q(".d d");e(t).Q("44",r.3d)},1V:9(){h e=c;7(e.$k.25().N!==0){e.$K.3r();e.$S.3r().3r();7(e.B){e.B.3k()}}e.3G();e.$k.2x("2w",e.$k.v("d-4I")||"").2x("H",e.$k.v("d-4F"))},5T:9(){h e=c;e.X();t.18(e.1X);e.1V();e.$k.5U()},5V:9(t){h n=c,r=e.4M({},n.2A,t);n.1V();n.1N(r,n.$k)},5W:9(e,t){h n=c,r;7(!e){p b}7(n.$k.25().N===0){n.$k.1o(e);n.23();p b}n.1V();7(t===W||t===-1){r=-1}l{r=t}7(r>=n.$S.N||r===-1){n.$S.1S(-1).5X(e)}l{n.$S.1S(r).5Y(e)}n.23()},5Z:9(e){h t=c,n;7(t.$k.25().N===0){p b}7(e===W||e===-1){n=-1}l{n=e}t.1V();t.$S.1S(n).3k();t.23()}};e.37.2B=9(t){p c.2f(9(){7(e(c).v("d-1N")===j){p b}e(c).v("d-1N",j);h n=3c.3q(r);n.1N(t,c);e.v(c,"2B",n)})};e.37.2B.6={q:5,1h:b,1s:[60,4],1O:[61,3],22:[62,2],1Q:b,1R:[63,1],48:b,46:b,1m:2M,1w:64,2v:65,O:b,2p:b,2a:b,2U:["1n","U"],2e:j,12:b,1v:j,39:b,2Z:j,45:2M,47:t,1M:"d-66",2i:"d-2i",1Z:b,4v:j,4x:"4y",1B:b,2O:b,33:b,3f:j,27:j,1U:j,2F:b,2o:b,3B:b,3D:b,2H:b,3s:b,1Y:b,3y:b,3w:b,2E:b,2T:b}})(67,68,69)',
62,382,"      options if  function  false this owl    var  true elem else currentItem   return items     data on   css typeof owlControls 0px maximumItem itemsAmount browser owlItems class addClass positionsInArray owlWrapper div itemWidth length autoPlay transform off apply userItems left next px undefined stop newRelativeX removeClass  newPosX scrollPerPage prevItem null isTouch ev_types find clearInterval play transition disabled setTimeout target loaded width goTo itemsCustom translate3d page paginationWrapper preventDefault slideSpeed prev append wrapper buttonNext css2slide itemsDesktop swapSpeed buttonPrev pagination paginationSpeed support3d dragDirection ms for autoHeight autoPlayInterval visibleItems isTransition Math webkit wrapperOuter hasClass src item transition3d baseClass init itemsDesktopSmall origin itemsTabletSmall itemsMobile eq isCss3Finish touchDrag unWrap moz checkVisible beforeMove lazyLoad  mousedown itemsTablet setVars roundPages children prevArr mouseDrag mouseup isCssFinish navigation touches pageX active rewindNav each jumpTo position theme sliding rewind eachMoveUpdate is touchend transitionStyle stopOnHover 100 afterGo ease orignalItems opacity rewindSpeed style attr html addCssSpeed userOptions owlCarousel all push startDragging addClassActive height beforeInit newPosY end move targetElement 200 touchmove jsonPath offsetY completeImg offsetX relativePos afterLazyLoad navigationText updateItems calculateAll touchstart string responsive updateControls clearTransStyle hoverStatus jsonSuccess moveDirection checkPagination endCurrent fn in paginationNumbers click grabbing Object resizer checkNavigation dragBeforeAnimFinish event originalEvent right checkAp remove get endPrev visible watchVisibility Number create unwrap afterInit logIn playDirection max afterAction updateVars afterMove maximumPixels apStatus beforeUpdate dragging afterUpdate pagesInArray reload clearEvents removeTransition doTranslate show hide css2move complete span cssText updatePagination gestures disabledEvents buildButtons buildPagination mousemove touchcancel start disableTextSelect min loops calculateWidth pageY appendWrapperSizes appendItemsSizes resize responsiveRefreshRate itemsScaleUp responsiveBaseWidth singleItem outer wrap animate srcElement setInterval drag updatePosition onVisibleItems block display getNewPosition disable singleItemTransition closestItem transitionTypes owlStatus inArray moveEvents response continue buildControls loading lazyFollow lazyPreload lazyEffect fade onStartup customEvents wrapItems eventTypes naturalWidth checkBrowser originalClasses outClass inClass originalStyles abs perspective loadContent extend _data round msMaxTouchPoints 5e3 text stopImmediatePropagation stopPropagation buttons events pop splice baseElWidth minSwipe maxSwipe dargging clientX clientY duration destroyControls createElement mouseover mouseout numbers which lazyOwl appendTo clearTimeout checked shift sort removeAttr match fadeIn 400 clickable toggleClass wrapAll top prop tagName DIV background image url wrapperWidth img 500 dragstart ontouchstart controls out input relative textarea select webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend getJSON returnValue hasOwnProperty option onstartup baseElement navigator new prototype destroy removeData reinit addItem after before removeItem 1199 979 768 479 800 1e3 carousel jQuery window document".split(" "),
0,{}));(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var e=(new Date).getTime(),h=Math.max(0,16-(e-a)),l=window.setTimeout(function(){b(e+h)},h);a=e+h;return l});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();(function(a){function b(a,b,c,d,k){this._listener=b;this._isOnce=c;this.context=d;this._signal=a;this._priority=k||0}function c(a,b){if("function"!==typeof a)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));}var d={VERSION:"0.7.4"};b.prototype={active:!0,params:null,execute:function(a){var b;this.active&&this._listener&&(a=this.params?this.params.concat(a):a,b=this._listener.apply(this.context,a),this._isOnce&&this.detach());return b},detach:function(){return this.isBound()?
this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal;delete this._listener;delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};d.Signal=function(){this._bindings=[];this._prevParams=null};d.Signal.prototype={memorize:!1,_shouldPropagate:!0,
active:!0,_registerListener:function(a,c,d,l){var k=this._indexOfListener(a,d);if(-1!==k){if(a=this._bindings[k],a.isOnce()!==c)throw Error("You cannot add"+(c?"":"Once")+"() then add"+(!c?"":"Once")+"() the same listener without removing the relationship first.");}else a=new b(this,a,c,d,l),this._addBinding(a);this.memorize&&this._prevParams&&a.execute(this._prevParams);return a},_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);
this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c=this._bindings.length,d;c--;)if(d=this._bindings[c],d._listener===a&&d.context===b)return c;return-1},has:function(a,b){return-1!==this._indexOfListener(a,b)},add:function(a,b,d){c(a,"add");return this._registerListener(a,!1,b,d)},addOnce:function(a,b,d){c(a,"addOnce");return this._registerListener(a,!0,b,d)},remove:function(a,b){c(a,"remove");var d=this._indexOfListener(a,b);-1!==d&&(this._bindings[d]._destroy(),this._bindings.splice(d,
1));return a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b=Array.prototype.slice.call(arguments),c=this._bindings.length,d;this.memorize&&(this._prevParams=b);if(c){d=this._bindings.slice();this._shouldPropagate=!0;do c--;while(d[c]&&this._shouldPropagate&&!1!==d[c].execute(b))}}},forget:function(){this._prevParams=
null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};"function"===typeof define&&define.amd?define(d):"undefined"!==typeof module&&module.exports?module.exports=d:a.signals=d})(this);var Stats=function(){function a(a,b,c){var d,e,f;for(e=0;30>e;e++)for(d=0;73>d;d++)f=4*(d+74*e),a[f]=a[f+4],a[f+1]=a[f+5],a[f+2]=a[f+6];for(e=0;30>e;e++)f=4*(73+74*e),e<b?(a[f]=s[c].bg.r,a[f+1]=s[c].bg.g,a[f+2]=s[c].bg.b):(a[f]=s[c].fg.r,a[f+1]=s[c].fg.g,a[f+2]=s[c].fg.b)}var b=0,c=2,d,g=0,e=(new Date).getTime(),h=e,l=e,k=0,n=1E3,p=0,q,u,f,m,r,w=0,v=1E3,C=0,z,A,E,F,B=0,G=1E3,I=0,y,x,J,D,s={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mem:{bg:{r:48,g:16,
b:26},fg:{r:255,g:0,b:128}}};d=document.createElement("div");d.style.cursor="pointer";d.style.width="80px";d.style.opacity="0.9";d.style.zIndex="10001";d.addEventListener("click",function(){b++;b==c&&(b=0);q.style.display="none";z.style.display="none";y.style.display="none";switch(b){case 0:q.style.display="block";break;case 1:z.style.display="block";break;case 2:y.style.display="block"}},!1);q=document.createElement("div");q.style.backgroundColor="rgb("+Math.floor(s.fps.bg.r/2)+","+Math.floor(s.fps.bg.g/
2)+","+Math.floor(s.fps.bg.b/2)+")";q.style.padding="2px 0px 3px 0px";d.appendChild(q);u=document.createElement("div");u.style.fontFamily="Helvetica, Arial, sans-serif";u.style.textAlign="left";u.style.fontSize="9px";u.style.color="rgb("+s.fps.fg.r+","+s.fps.fg.g+","+s.fps.fg.b+")";u.style.margin="0px 0px 1px 3px";u.innerHTML='<span style="font-weight:bold">FPS</span>';q.appendChild(u);f=document.createElement("canvas");f.width=74;f.height=30;f.style.display="block";f.style.marginLeft="3px";q.appendChild(f);
m=f.getContext("2d");m.fillStyle="rgb("+s.fps.bg.r+","+s.fps.bg.g+","+s.fps.bg.b+")";m.fillRect(0,0,f.width,f.height);r=m.getImageData(0,0,f.width,f.height);z=document.createElement("div");z.style.backgroundColor="rgb("+Math.floor(s.ms.bg.r/2)+","+Math.floor(s.ms.bg.g/2)+","+Math.floor(s.ms.bg.b/2)+")";z.style.padding="2px 0px 3px 0px";z.style.display="none";d.appendChild(z);A=document.createElement("div");A.style.fontFamily="Helvetica, Arial, sans-serif";A.style.textAlign="left";A.style.fontSize=
"9px";A.style.color="rgb("+s.ms.fg.r+","+s.ms.fg.g+","+s.ms.fg.b+")";A.style.margin="0px 0px 1px 3px";A.innerHTML='<span style="font-weight:bold">MS</span>';z.appendChild(A);f=document.createElement("canvas");f.width=74;f.height=30;f.style.display="block";f.style.marginLeft="3px";z.appendChild(f);E=f.getContext("2d");E.fillStyle="rgb("+s.ms.bg.r+","+s.ms.bg.g+","+s.ms.bg.b+")";E.fillRect(0,0,f.width,f.height);F=E.getImageData(0,0,f.width,f.height);try{performance&&(performance.memory&&performance.memory.totalJSHeapSize)&&
(c=3)}catch(H){}y=document.createElement("div");y.style.backgroundColor="rgb("+Math.floor(s.mem.bg.r/2)+","+Math.floor(s.mem.bg.g/2)+","+Math.floor(s.mem.bg.b/2)+")";y.style.padding="2px 0px 3px 0px";y.style.display="none";d.appendChild(y);x=document.createElement("div");x.style.fontFamily="Helvetica, Arial, sans-serif";x.style.textAlign="left";x.style.fontSize="9px";x.style.color="rgb("+s.mem.fg.r+","+s.mem.fg.g+","+s.mem.fg.b+")";x.style.margin="0px 0px 1px 3px";x.innerHTML='<span style="font-weight:bold">MEM</span>';
y.appendChild(x);f=document.createElement("canvas");f.width=74;f.height=30;f.style.display="block";f.style.marginLeft="3px";y.appendChild(f);J=f.getContext("2d");J.fillStyle="#301010";J.fillRect(0,0,f.width,f.height);D=J.getImageData(0,0,f.width,f.height);return{domElement:d,update:function(){g++;e=(new Date).getTime();w=e-h;v=Math.min(v,w);C=Math.max(C,w);a(F.data,Math.min(30,30-30*(w/200)),"ms");A.innerHTML='<span style="font-weight:bold">'+w+" MS</span> ("+v+"-"+C+")";E.putImageData(F,0,0);h=e;
e>l+1E3&&(k=Math.round(1E3*g/(e-l)),n=Math.min(n,k),p=Math.max(p,k),a(r.data,Math.min(30,30-30*(k/100)),"fps"),u.innerHTML='<span style="font-weight:bold">'+k+" FPS</span> ("+n+"-"+p+")",m.putImageData(r,0,0),3==c&&(B=9.54E-7*performance.memory.usedJSHeapSize,G=Math.min(G,B),I=Math.max(I,B),a(D.data,Math.min(30,30-B/2),"mem"),x.innerHTML='<span style="font-weight:bold">'+Math.round(B)+" MEM</span> ("+Math.round(G)+"-"+Math.round(I)+")",J.putImageData(D,0,0)),l=e,g=0)}}};var TWEEN=TWEEN||function(){var a,b,c,d=[];this.add=function(a){d.push(a)};this.remove=function(b){a=d.indexOf(b);-1!==a&&d.splice(a,1)};this.update=function(){a=0;b=d.length;for(c=(new Date).getTime();a<b;)d[a].update(c)?a++:(d.splice(a,1),b--)};return this}();
TWEEN.Tween=function(a){var b={},c={},d={},g=1E3,e=0,h=null,l=TWEEN.Easing.Linear.EaseNone,k=null,n=null,p=null;this.to=function(b,c){null!==c&&(g=c);for(var e in b)null!==a[e]&&(d[e]=b[e]);return this};this.start=function(){TWEEN.add(this);h=(new Date).getTime()+e;for(var g in d)null!==a[g]&&(b[g]=a[g],c[g]=d[g]-a[g]);return this};this.stop=function(){TWEEN.remove(this);return this};this.delay=function(a){e=a;return this};this.easing=function(a){l=a;return this};this.chain=function(a){k=a};this.onUpdate=
function(a){n=a;return this};this.onComplete=function(a){p=a;return this};this.update=function(d){var e,f;if(d<h)return!0;d=(d-h)/g;d=1<d?1:d;f=l(d);for(e in c)a[e]=b[e]+c[e]*f;null!==n&&n.call(a,f);return 1==d?(null!==p&&p.call(a),null!==k&&k.start(),!1):!0}};TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};TWEEN.Easing.Linear.EaseNone=function(a){return a};
TWEEN.Easing.Quadratic.EaseIn=function(a){return a*a};TWEEN.Easing.Quadratic.EaseOut=function(a){return-a*(a-2)};TWEEN.Easing.Quadratic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)};TWEEN.Easing.Cubic.EaseIn=function(a){return a*a*a};TWEEN.Easing.Cubic.EaseOut=function(a){return--a*a*a+1};TWEEN.Easing.Cubic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)};TWEEN.Easing.Quartic.EaseIn=function(a){return a*a*a*a};
TWEEN.Easing.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};TWEEN.Easing.Quartic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};TWEEN.Easing.Quintic.EaseIn=function(a){return a*a*a*a*a};TWEEN.Easing.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};TWEEN.Easing.Quintic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};TWEEN.Easing.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};
TWEEN.Easing.Sinusoidal.EaseOut=function(a){return Math.sin(a*Math.PI/2)};TWEEN.Easing.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};TWEEN.Easing.Exponential.EaseIn=function(a){return 0==a?0:Math.pow(2,10*(a-1))};TWEEN.Easing.Exponential.EaseOut=function(a){return 1==a?1:-Math.pow(2,-10*a)+1};TWEEN.Easing.Exponential.EaseInOut=function(a){return 0==a?0:1==a?1:1>(a*=2)?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};
TWEEN.Easing.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};TWEEN.Easing.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};TWEEN.Easing.Circular.EaseInOut=function(a){return 1>(a/=0.5)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};TWEEN.Easing.Elastic.EaseIn=function(a){var b,c=0.1,d=0.4;if(0==a)return 0;if(1==a)return 1;d||(d=0.3);!c||1>c?(c=1,b=d/4):b=d/(2*Math.PI)*Math.asin(1/c);return-(c*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/d))};
TWEEN.Easing.Elastic.EaseOut=function(a){var b,c=0.1,d=0.4;if(0==a)return 0;if(1==a)return 1;d||(d=0.3);!c||1>c?(c=1,b=d/4):b=d/(2*Math.PI)*Math.asin(1/c);return c*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/d)+1};TWEEN.Easing.Elastic.EaseInOut=function(a){var b,c=0.1,d=0.4;if(0==a)return 0;if(1==a)return 1;d||(d=0.3);!c||1>c?(c=1,b=d/4):b=d/(2*Math.PI)*Math.asin(1/c);return 1>(a*=2)?-0.5*c*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/d):0.5*c*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/d)+1};
TWEEN.Easing.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};TWEEN.Easing.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};TWEEN.Easing.Back.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};TWEEN.Easing.Bounce.EaseIn=function(a){return 1-TWEEN.Easing.Bounce.EaseOut(1-a)};
TWEEN.Easing.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};TWEEN.Easing.Bounce.EaseInOut=function(a){return 0.5>a?0.5*TWEEN.Easing.Bounce.EaseIn(2*a):0.5*TWEEN.Easing.Bounce.EaseOut(2*a-1)+0.5};
